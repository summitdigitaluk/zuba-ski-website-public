"use strict";(()=>{var Ye=Object.create;var Ie=Object.defineProperty;var Ve=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Xe=Object.getPrototypeOf,Ze=Object.prototype.hasOwnProperty;var Ke=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var et=(t,e,o,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of Qe(e))!Ze.call(t,r)&&r!==o&&Ie(t,r,{get:()=>e[r],enumerable:!(s=Ve(e,r))||s.enumerable});return t};var tt=(t,e,o)=>(o=t!=null?Ye(Xe(t)):{},et(e||!t||!t.__esModule?Ie(o,"default",{value:t,enumerable:!0}):o,t));var Me=Ke((Ct,Fe)=>{"use strict";(function(t,e){typeof define=="function"&&define.amd?define("tinysort",function(){return e}):t.tinysort=e})(window||Fe||{},function(t){function e(a,y){for(var v,C=a.length,B=C;B--;)v=C-B-1,y(a[v],v);return a}function o(a,y,v){for(var C in y)(v||a[C]===r)&&(a[C]=y[C]);return a}function s(a,y,v){return D.push({prepare:a,sort:y,sortBy:v})}var r=t,l=null,A=window,f=A.document,S=parseFloat,x=/(-?\d+\.?\d*)\s*$/g,H=/(\d+\.?\d*)\s*$/g,D=[],_=function(a){return String.fromCharCode(a)},O=function(a){return Array.from([,,,],function(y,v){return _(a+v)})},I=O(0),p=O(4095),m={selector:l,order:"asc",attr:l,data:l,useVal:!1,place:"org",returns:!1,cases:!1,natural:!1,forceStrings:!1,ignoreDashes:!1,sortFunction:l,useFlex:!1,emptyEnd:!1,console},E=0,k=0;return A.Element&&function(a){return a.matches=a.matches||a.msMatchesSelector}(Element.prototype),o(s,{loop:e}),o(function(a){for(var y=arguments.length,v=Array(1<y?y-1:0),C=1;C<y;C++)v[C-1]=arguments[C];function B(i){var d=!!i.selector,n=d&&i.selector[0]===":",u=o(i||{},m);return K.push(o({hasSelector:d,hasAttr:u.attr!==l&&u.attr!=="",hasData:u.data!==l,hasFilter:n,sortReturnNumber:u.order==="asc"?1:-1},u))}function W(){e(a,function(i,d){U?U!==i.parentNode&&($e=!1):U=i.parentNode;var n=K[0],u=n.hasFilter,c=n.selector,g=!c||u&&i.matches(c)||c&&i.querySelector(c),b=g?q:We,h=b.length,w={elm:i,pos:d,posn:h};xe.push(w),b.push(w)}),F.splice.apply(F,[0,Number.MAX_SAFE_INTEGER].concat(q))}function Je(i,d,n){for(var u=n(i.toString()),c=n(d.toString()),g=0;u[g]&&c[g];g++)if(u[g]!==c[g]){var b=+u[g],h=+c[g];return b==u[g]&&h==c[g]?b-h:u[g]>c[g]?1:-1}return u.length-c.length}function Ue(i){for(var d,n=[],u=0,c=-1,g=0,b=void 0,h=void 0;b=(h=i.charAt(u++)).charCodeAt(0);)d=b===46||48<=b&&57>=b,d!==g&&(n[++c]="",g=d),n[c]+=h;return n}function Re(i,d){var n=0;k!==0&&(k=0);for(var u=function(){var c=K[k],g=c.ignoreDashes?H:x;e(D,function(P){return P.prepare&&P.prepare(c)});var b=!1,h=Se(i,c),w=Se(d,c);if(c.sortFunction)n=c.sortFunction(i,d);else if(c.order==="rand")n=.5>Math.random()?1:-1;else if(h===w)n=0;else{if(!c.forceStrings){var T=!!G(h)&&h&&h.match(g),L=!!G(w)&&w&&w.match(g);if(T&&L){var j=h.substr(0,h.length-T[0].length),pe=w.substr(0,w.length-L[0].length);j==pe&&(b=!0,h=S(T[0]),w=S(L[0]))}}n=c.natural&&(isNaN(h)||isNaN(w))?Je(h,w,Ue):h<w?-1:h>w?1:0}e(D,function(P){var R=P.sort;return R&&(n=R(c,b,h,w,n))}),n*=c.sortReturnNumber,n===0&&k++};n===0&&k<E;)u();return n===0&&(n=i.pos>d.pos?1:-1),n}function ze(){var i=q.length,d=i===xe.length,n=i===U.children.length,u=K[0],c=u.place,g=u.console;if($e&&d&&n)je?q.forEach(function(P,R){return P.elm.style.order=R}):U?U.appendChild(ce()):g&&g.warn&&g.warn("parentNode has been removed");else{var b=c==="start",h=c==="end",w=c==="first";if(c==="org")q.forEach(de),q.forEach(function(P,R){return ue(F[R],P.elm)});else if(b||h){var T=F[b?0:F.length-1],L=T&&T.elm.parentNode,j=L&&(b&&L.firstChild||L.lastChild);j&&(j!==T.elm&&(T={elm:j}),de(T),h&&L.appendChild(T.ghost),ue(T,ce()))}else if(w||c==="last"){var pe=F[w?0:F.length-1];ue(de(pe),ce())}}}function ce(){return q.forEach(function(i){return be.appendChild(i.elm)}),be}function de(i){var d=i.elm,n=f.createElement("div");return i.ghost=n,d.parentNode.insertBefore(n,d),i}function ue(i,d){var n=i.ghost,u=n.parentNode;u.insertBefore(d,n),u.removeChild(n),delete i.ghost}function Se(i,d){var n,u=i.elm,c=d.selector;c&&(d.hasFilter?!u.matches(c)&&(u=l):u=u.querySelector(c)),d.hasAttr?n=u.getAttribute(d.attr):d.useVal?n=u.value||u.getAttribute("value"):d.hasData?n=u.getAttribute("data-"+d.data):u&&(n=u.textContent),G(n)&&(!d.cases&&(n=n.toLowerCase()),n=n.replace(/\s+/g," "));var g=[r,l,""].indexOf(n);return g!==-1&&(n=(d.emptyEnd?p:I)[g]),n}function G(i){return typeof i=="string"}var Z=v[0]||{};G(a)&&(a=f.querySelectorAll(a));var He=Object.assign({},m,Z||{}),fe=He.console;a.length===0&&fe&&fe.warn&&fe.warn("No elements to sort");var be=f.createDocumentFragment(),xe=[],q=[],We=[],F=[],K=[],U=void 0,$e=!0,_e=a.length&&a[0].parentNode,Ge=_e.rootNode!==document,je=a.length&&(Z===r||Z.useFlex!==!1)&&!Ge&&getComputedStyle(_e,null).display.indexOf("flex")!==-1;return E=function(i){return i.length===0&&B({})||e(i,function(d){return B(G(d)?{selector:d}:d)}).length}(v),W(),q.sort(Z.sortFunction||Re),ze(),q.map(function(i){return i.elm})},{plugin:s,defaults:m})}())});var N=t=>{for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},te=t=>typeof t=="object"&&!Array.isArray(t)&&t!==null;var oe=t=>!!(t.prop("checked")===!0||t.is(":checked"));var Ce=t=>{var e=t?t.substring(1):location.search.substring(1);try{return JSON.parse('{"'+decodeURI(e).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}')}catch{return{}}};var z=()=>localStorage.getItem("enquiry")?localStorage.getItem("enquiry").hasOwnProperty("adults")?(localStorage.setItem("enquiry",JSON.stringify(ee)),ee):JSON.parse(localStorage.getItem("enquiry")):(localStorage.setItem("enquiry",JSON.stringify(ee)),ee),Ee=()=>JSON.parse(localStorage.getItem("suppliers")).details,Y=(t,e)=>{let o=z();o[t]=e,localStorage.setItem("enquiry",JSON.stringify(o))},ot=t=>new Date(t.setHours(0,0,0,0)),ft=ot(new Date);var rt={adults:1,children:[],doubleBeds:0,singleBeds:0,cots:0},ee={activity:2,arrivalDate:!1,departureDate:!1,rooms:[rt],airportTransfer:!1,mountainGuiding:!1,heliskiing:!1,skiPasses:!1,equipmentRental:!1,skiSchool:!1,client:{title:"",forename:"",surname:"",email:"",phone:""},comments:"",howHear:"",suppliers:{},whatsapp:!1};var ke=t=>new Promise((e,o)=>{if(document.querySelector(`script[src="${t}"]`)){e();return}let r=document.createElement("script");r.onload=()=>{e()},r.onerror=()=>{o(new Error(`Error loading ${t}`))},r.src=t,document.body.appendChild(r)}),re=t=>new Promise((e,o)=>{if(document.querySelector(`link[href="${t}"]`)){e();return}fetch(t).then(r=>r.json()).then(r=>{e(r)}).catch(r=>o(new Error(`Error loading ${t}: ${r.message}`)))}),me=t=>{let e=t.split(".");if(e.length>=2){let o=e.pop();return[e.join("."),o]}return null};var Ae=t=>{$(t).each(function(){let e=$(this).text();$(this).empty().html(e)})},ne=()=>{let t=z().suppliers,e=0;for(let o in t)t.hasOwnProperty(o)&&t[o].checked===!0&&($('.filter_added[data-item-id="'+o+'"]').addClass("is-added"),ge($('.filter_button[data-item-id="'+o+'"]'),!0),e=e+1);se(e)},se=t=>{let e=0;if(t)e=t;else{let s=z().suppliers;for(let r in s)s.hasOwnProperty(r)&&s[r].checked===!0&&(e=e+1)}let o=$("#enquiryCount");e>0?o.html('<span class="nav_button-text-left">Complete Enquiry</span><span class="nav_button-text-right">('+e+")</span>"):o.html('<span class="nav_button-text-left">Make an Enquiry</span>')};var ge=(t,e)=>{let o="<div>Added</div>",s='<div class="icon-1x1-xsmall w-embed"><svg aria-hidden="true" fill="currentColor" role="img" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><title>Plus</title><path d="m288 80c0-17.7-14.3-32-32-32s-32 14.3-32 32v144h-144c-17.7 0-32 14.3-32 32s14.3 32 32 32h144v144c0 17.7 14.3 32 32 32s32-14.3 32-32v-144h144c17.7 0 32-14.3 32-32s-14.3-32-32-32h-144z"></path></svg></div><div>Add to enquiry</div>';e===!0?t.addClass("is-added").html(o):t.removeClass("is-added").html(s)};function nt(t){if(Array.isArray(t)){for(var e=0,o=Array(t.length);e<t.length;e++)o[e]=t[e];return o}else return Array.from(t)}var ve=!1;typeof window!="undefined"&&(he={get passive(){ve=!0}},window.addEventListener("testPassive",null,he),window.removeEventListener("testPassive",null,he));var he,ie=typeof window!="undefined"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1),J=[],le=!1,De=-1,V=void 0,M=void 0,Q=void 0,Ne=function(e){return J.some(function(o){return!!(o.options.allowTouchMove&&o.options.allowTouchMove(e))})},ae=function(e){var o=e||window.event;return Ne(o.target)||o.touches.length>1?!0:(o.preventDefault&&o.preventDefault(),!1)},st=function(e){if(Q===void 0){var o=!!e&&e.reserveScrollBarGap===!0,s=window.innerWidth-document.documentElement.clientWidth;if(o&&s>0){var r=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right"),10);Q=document.body.style.paddingRight,document.body.style.paddingRight=r+s+"px"}}V===void 0&&(V=document.body.style.overflow,document.body.style.overflow="hidden")},it=function(){Q!==void 0&&(document.body.style.paddingRight=Q,Q=void 0),V!==void 0&&(document.body.style.overflow=V,V=void 0)},lt=function(){return window.requestAnimationFrame(function(){if(M===void 0){M={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left};var e=window,o=e.scrollY,s=e.scrollX,r=e.innerHeight;document.body.style.position="fixed",document.body.style.top=-o,document.body.style.left=-s,setTimeout(function(){return window.requestAnimationFrame(function(){var l=r-window.innerHeight;l&&o>=r&&(document.body.style.top=-(o+l))})},300)}})},at=function(){if(M!==void 0){var e=-parseInt(document.body.style.top,10),o=-parseInt(document.body.style.left,10);document.body.style.position=M.position,document.body.style.top=M.top,document.body.style.left=M.left,window.scrollTo(o,e),M=void 0}},ct=function(e){return e?e.scrollHeight-e.scrollTop<=e.clientHeight:!1},dt=function(e,o){var s=e.targetTouches[0].clientY-De;return Ne(e.target)?!1:o&&o.scrollTop===0&&s>0||ct(o)&&s<0?ae(e):(e.stopPropagation(),!0)},Te=function(e,o){if(!e){console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");return}if(!J.some(function(r){return r.targetElement===e})){var s={targetElement:e,options:o||{}};J=[].concat(nt(J),[s]),ie?lt():st(o),ie&&(e.ontouchstart=function(r){r.targetTouches.length===1&&(De=r.targetTouches[0].clientY)},e.ontouchmove=function(r){r.targetTouches.length===1&&dt(r,e)},le||(document.addEventListener("touchmove",ae,ve?{passive:!1}:void 0),le=!0))}};var Oe=function(e){if(!e){console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");return}J=J.filter(function(o){return o.targetElement!==e}),ie&&(e.ontouchstart=null,e.ontouchmove=null,le&&J.length===0&&(document.removeEventListener("touchmove",ae,ve?{passive:!1}:void 0),le=!1)),ie?at():it()};var we=(t,e)=>{if(document.getElementById(t)){let o=document.getElementById(t);Te(o,{reserveScrollBarGap:!0});let s=$(o);s.find(".modal_loading").removeClass("is-loaded"),s.removeClass("is-closed").addClass("is-opening");let r=s.find(".modal_background");r.fadeIn(350),e&&e(),setTimeout(function(){s.removeClass("is-opening").addClass("is-open"),o.querySelector(".modal_content").scroll(0,0),r.on("click",function(){ye(t)})},350)}},ye=t=>{if(document.getElementById(t)){let e=$("#"+t);e.removeClass("is-open").addClass("is-closing"),e.find(".modal_background").fadeOut(200),setTimeout(function(){e.removeClass("is-closing").addClass("is-closed"),e.find(".modal_loading").addClass("is-loaded");let o=document.getElementById(t);Oe(o)},200)}},Be=()=>{$("[s-modal-open]").on("click",function(){let t=$(this).attr("s-modal-open");we(t)}),$("[s-modal-close]").on("click",function(){let t=$(this).attr("s-modal-close");ye(t)}),$(".modal_close").each(function(){$(this).on("click",function(t){t.preventDefault();var e=$(t.target).closest(".modal_component").attr("id");ye(e)})})};var X,qe=t=>{var e=document.querySelector(".filter_list");let o;X=new MutationObserver(s=>{o&&clearTimeout(o),o=setTimeout(()=>{s.forEach(r=>{t?(console.log(t),t()):console.log(t)})},750)}),X.observe(e,{attributes:!0,childList:!0,characterData:!0})};var Le=()=>{let t="https://assets-global.website-files.com/62cdb1d040dc8c2af67a35e2/65537bff41235e716ab887ed_zuba-ski-icon_add.svg",e="https://assets-global.website-files.com/62cdb1d040dc8c2af67a35e2/654e4d3358daed16960da647_zuba-ski-icon_added.svg",o=r=>{let l;localStorage.getItem("suppliers")&&typeof localStorage.getItem("suppliers")!="undefined"&&te(JSON.parse(localStorage.getItem("suppliers")))===!0&&Date.now()-new Date(Number(JSON.parse(localStorage.getItem("suppliers")).lastUpdated)).getTime()<9e5?(l=JSON.parse(localStorage.getItem("suppliers")),console.log("suppliers from local",l),r(l)):re(["https://europe-west3-zuba-webflow.cloudfunctions.net/getSuppliers"]).then(A=>{l=A,console.log("suppliers from firebase",l),l.lastUpdated=Date.now().toString(),localStorage.setItem("suppliers",JSON.stringify(l)),r(l)}).catch(A=>{console.error(A)})};$('[s-modal-open="suggested"]').on("click",function(){s($(this))});let s=r=>{let l=r.attr("s-modal-open");$("#"+l).find(".modal_loading").removeClass("is-loaded"),we(l),o(f=>{f=f.details,console.log("suppliers",f);let S=z().suppliers,x=r.attr("data-item-id");if(N(f[x])===!1){let I={};I.name=f[x].name,I.resort=f[x].resort,I.url=f[x].url;let p=f[x].img,m=me(p);m!==null?(console.log("File Name:",m[0]),console.log("Extension:",m[1]),p=m[0]+"-p-500."+m[1]):console.log("Invalid Image URL"),I.img=p,I.checked=!0,S[x]=I,Y("suppliers",S),ge(r,!0),$(".added_image").attr("src",I.img),$(".added_hotel").text(I.name+", "+I.resort)}else return;let D=f[x]["related-accommodation-ref"];console.log("related",D);let _={};if($.each(D,function(I,p){console.log("value",p);let m=p,E=N(S[m])===!0,k=N(f[m])===!1;if(E&&k){let a={};a.name=f[m].name,a.resort=f[m].resort,a.url=f[m].url,a.img=f[m].img,a.boarding=f[m].boarding,console.log("supplier",a),_[m]=a}}),console.log("enquirySuppliers",S),console.log("relatedSuppliers",_),N(_)===!1){$(".suggested_block").show(),$(".suggested_list").empty();let I=0;for(let p in _){I+=1;let m=_[p].img,E=me(m);E!==null?m=E[0]+"-p-500."+E[1]:console.log("Invalid Image URL"),$(".suggested_list").append('<div class="suggested_item" id="'+p+'"><div class="suggested_figure"><img src="'+m+'" alt="'+_[p].name+'" loading="lazy" class="fill-image"><div class="shadow-overlay"></div><div class="suggested_category"><div class="suggested_category-link w-inline-block"><img src="https://assets-global.website-files.com/62cdb1d040dc8c2af67a35e2/65535ae0c1feaa56bc1dbf19_zuba-ski-icon_zuba-ski-icon_location_black-medium.svg" loading="lazy" alt="" class="icon-1x1-xsmall"><div>'+_[p].resort+'</div></div></div><div class="filter_added is-suggested"><div class="filter_added-button"><img src="'+t+'" loading="lazy" alt="" class="filter_added-icon"></div></div><label class="w-checkbox checkbox_field"><input type="checkbox" id="your-pick_'+p+'" name="your-pick_'+p+'" data-name="your-pick_'+p+'" class="w-checkbox-input checkbox_button"><span class="checkbox_label w-form-label" for="your-pick_'+p+'"></span></label></div><div class="suggested_body"><div class="suggested_header"><div class="suggested_title"><h4 class="suggested_name">'+_[p].name+'</h4></div></div><div class="suggested_text-wrapper"><div class="suggested_resort-link w-inline-block"><div class="icon-1x1-xsmall w-embed"><svg aria-hidden="true" fill="currentColor" role="img" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><title>Location</title><path d="m10 9c.6 0 1.1-.2 1.5-.6s.6-.9.6-1.5-.2-1.1-.6-1.5c-.8-.8-2.2-.8-3 0-.4.4-.6.9-.6 1.5s.2 1.1.6 1.5.9.6 1.5.6z"></path><path d="m15.7 17.7h-11.4c-.3 0-.6.1-.8.3s-.3.5-.3.8.1.6.3.8c.2.3.4.4.8.4h11.5c.3 0 .6-.1.8-.3s.3-.5.3-.8-.1-.6-.3-.8c-.3-.3-.5-.4-.9-.4z"></path><path d="m9.1 16c.1.1.3.2.4.3.2.1.3.1.5.1s.3 0 .5-.1.3-.1.4-.2c1.3-1 2.6-2.3 3.9-3.8s2-3.3 2-5.2c0-1.1-.2-2.2-.6-3-.4-.9-1-1.6-1.6-2.2-.7-.6-1.4-1-2.2-1.3-1.6-.6-3.2-.6-4.8 0-.8.1-1.6.6-2.2 1.2-.7.6-1.3 1.3-1.7 2.2s-.6 1.9-.6 3c0 1.9.7 3.6 2 5.2 1.3 1.5 2.7 2.8 4 3.8zm-3.7-9c0-.9.2-1.6.5-2.2s.7-1 1.1-1.4c.5-.4 1-.7 1.5-.8.5-.2 1-.3 1.5-.3s.9.1 1.5.3c.5.1 1 .4 1.5.8s.8.9 1.2 1.5c.3.6.5 1.3.5 2.2 0 1-.4 2.1-1.2 3.2s-1.9 2.3-3.4 3.5c-1.5-1.2-2.6-2.4-3.4-3.5-.9-1.2-1.3-2.3-1.3-3.3z"></path></svg></div><div>'+_[p].resort+"</div></div></div></div></div>")}$("#suggested .checkbox_button").on("change",function(){let p=$(this),m=p.closest(".checkbox_field");m.addClass("pointer-events-off");let E=p.closest(".suggested_item"),k=E.find(".filter_added"),a=oe(p),y=E.attr("id");console.log("supplierId",y);let v=z().suppliers;console.log("suppliersInTheEnquiry",v);let C=v[y];console.log("thisSupplierInEnquiry",C);let B=N(C)===!1;if(console.log("thisSupplierHasAlreadyBeenAdded",B),a){if(B)v[y].checked=!0,Y("suppliers",v);else{let W=Ee()[y];console.log(W),W.checked=!0,v[y]=W,Y("suppliers",v)}se(),p.attr("checked","checked"),p.prop("checked",!0),k.addClass("is-added animating"),setTimeout(function(){E.find(".filter_added-icon").attr("src",e)},125),setTimeout(function(){k.removeClass("animating"),m.removeClass("pointer-events-off")},250)}else B&&(delete v[y],Y("suppliers",v)),se(),p.removeAttr("checked"),p.prop("checked",!1),k.addClass("animating"),setTimeout(function(){k.removeClass("is-added"),E.find(".filter_added-icon").attr("src",t)},125),setTimeout(function(){k.removeClass("animating"),m.removeClass("pointer-events-off")},250)})}else $(".suggested_block").hide();$("#"+l).find(".modal_loading").addClass("is-loaded"),ne()})}};var Pe=()=>{Be();let t=r=>{$(".filter_item").each(function(){let l=$(this),A=l.attr("data-item-id"),f=r.details[A];if(N(f)===!1){let S=f["holiday-types"];if(N(S)===!1){let D=l.find('[fs-cmsnest-collection="holiday-type"]');$.each(S,function(_,O){D.append('<div fs-cmsfilter-field="holiday-type">'+O.name+"</div>")})}let x=f["accommodation-facilities"];if(N(x)===!1){let D=l.find('[fs-cmsnest-collection="facilities"]');$.each(x,function(_,O){D.append('<div fs-cmsfilter-field="accommodation-facilities" fs-cmsfilter-match="all">'+O.name+"</div>")})}let H=f["travelling-with"];if(N(H)===!1){let D=l.find('[fs-cmsnest-collection="travelling-with"]');$.each(H,function(_,O){D.append('<div fs-cmsfilter-field="travelling-with">'+O.name+"</div>")})}}})},e=()=>{$("#results").find(".modal_loading").addClass("is-loaded")};qe(e);let o=0,s=(r,l)=>{let A=S=>{$('.dev_filter-list [fs-cmsfilter-field="holiday-type"]').length===0&&$('.dev_filter-list [fs-cmsfilter-field="accommodation-facilities"]').length===0&&$('.dev_filter-list [fs-cmsfilter-field="travelling-with"]').length===0&&t(S),r.name!=="nestCms"&&r(S),ke("https://cdn.jsdelivr.net/npm/@finsweet/attributes-cmsfilter@1/cmsfilter.js").then(()=>{o<1?setTimeout(()=>{X&&X.disconnect(),o=o+1,e(),l&&$("#"+l).find(".modal_loading").addClass("is-loaded")},750):l&&(e(),$("#"+l).find(".modal_loading").addClass("is-loaded"))}).catch(x=>{console.error(x)})};o<1&&(Webflow.require("lottie").lottie.stop(),Webflow.require("lottie").lottie.play(),$("#results").find(".modal_loading").removeClass("is-loaded")),l&&$("#"+l).find(".modal_loading").removeClass("is-loaded");let f;localStorage.getItem("suppliers")&&typeof localStorage.getItem("suppliers")!="undefined"&&te(JSON.parse(localStorage.getItem("suppliers")))===!0&&Date.now()-new Date(Number(JSON.parse(localStorage.getItem("suppliers")).lastUpdated)).getTime()<15*60*1e3?(f=JSON.parse(localStorage.getItem("suppliers")),A(f)):re(["https://europe-west3-zuba-webflow.cloudfunctions.net/getSuppliers"]).then(S=>{f=S,f.lastUpdated=Date.now().toString(),localStorage.setItem("suppliers",JSON.stringify(f)),A(f)}).catch(S=>{console.error(S)})};$('[s-modal-open="filter"]').on("click",function(){s(t,"filter")}),$(".filter-tabs_item[data-filter]").on("click",function(){s(t);let r=$(this);r.addClass("is-active").siblings().removeClass("is-active"),$('input[data-filter="'+r.attr("data-filter")+'"]').trigger("click"),document.getElementById("filterTabsScroll").scrollLeft=0}),N(Ce())===!1&&s(t),Le(),ne()};var At=tt(Me(),1);window.Webflow||(window.Webflow=[]);window.Webflow.push(()=>{tinysort("#filterList>.filter_item",{data:"resort"},{data:"name"}),Ae(".filter_svg-code"),$('[name="checkbox-holiday-type"][data-filter]').on("change",function(){let t=$(this),e=$('.filter-tabs_item[data-filter="'+t.attr("data-filter")+'"]');oe(t)?($('.filter-tabs_item[data-filter="'+t.attr("data-filter")+'"]').addClass("is-active").siblings().removeClass("is-active"),e.hasClass("is-active")||e.addClass("is-active")):e.removeClass("is-active")}),$(".filter-tabs_count").text($(".filter_item").length),function(){var t=document.querySelector('[fs-cmsfilter-element="results-count"]'),e=new MutationObserver(function(o){$(".filter-tabs_count").text(t.innerText)});e.observe(t,{attributes:!0,childList:!0,characterData:!0})}(),Pe()});})();
