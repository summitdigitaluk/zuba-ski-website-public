"use strict";(()=>{var L=n=>new Date(n.setHours(0,0,0,0)),R=L(new Date);var A=n=>n.replace(/(?:^\w|[A-Z]|\b\w)/g,function(c,u){return u==0?c.toLowerCase():c.toUpperCase()}).replace(/\s+/g,"");var I=n=>new Promise((c,u)=>{if(document.querySelector(`script[src="${n}"]`)){c();return}let a=document.createElement("script");a.onload=()=>{c()},a.onerror=()=>{u(new Error(`Error loading ${n}`))},a.src=n,document.body.appendChild(a)});var M=n=>{Array.from(document.querySelectorAll(n)).forEach(u=>{let g=u.getAttribute("alt"),a=u.nextElementSibling;a&&a.classList.contains("caption")?a.textContent=g:u.insertAdjacentHTML("afterEnd",`<p class="caption">${g}</p>`)})};(function(n){var c=!1;n(window).on("load",function(){c=!0}),n.fn.gallerify=n.fn.xgallerify=n.fn.xGallerify=function(e){var t=this;e=e||{},e.margin=e.margin!==void 0&&e.margin!==null?e.margin:10,e.galleryMargin=e.galleryMargin!==void 0&&e.galleryMargin!==null?e.galleryMargin:17,e.width=e.width||void 0,e.mode=e.mode||"default",e.jsSetup=e.jsSetup!==void 0&&e.jsSetup!==null?e.jsSetup:!0,e.imagesPerRow=e.imagesPerRow||void 0,e.debounceLoad=e.debounceTime!==void 0&&e.debounceTime!==null&&e.debounceTime%1===0,e.debounceTime=e.debounceTime!==void 0&&e.debounceTime!==null?e.debounceTime:50,e.lastRow=e.lastRow||"adjust",u(t,e),this.gallerify.render=function(){g(t,e.margin),a(t,e)};var r=h(function(){a(t,e)},e.debounceTime);return this.gallerify.renderAsyncImages=function(){g(t,e.margin),e.debounceLoad?t.find("img").on("load",function(){r()}):t.find("img").on("load",function(){a(t,e)})},t};function u(e,t){t.jsSetup&&g(e,t.margin),e.addClass("xgallerify"),c?a(e,t):n(window).on("load",function(){a(e,t)}),n(window).on("resize",function(){a(e,t)})}function g(e,t){var r=n(e.children());r.css("display","inline-block").css("margin",t).find("img").css("width","100%").addClass("ximage-loaded")}function a(e,t){var r=[],o=[],i=e.children(),s=t.width||e[0].clientWidth,f=k(s,t.mode),l=t.imagesPerRow||f.itemsPerRow,m;t.width&&e.width(s);for(var d=0;d<i.length;d++){var w=n(i[d]);w.width()&&(r.push(w),(r.length>=l||d==i.length-1)&&(o.push(r),!(d==i.length-1&&r.length<f.itemsPerRow)||t.lastRow=="fullwidth"?m=p(o[o.length-1],s,t.margin,t.galleryMargin,f.maxHeight):t.lastRow==="hidden"&&l!==1?x(r):y(o[o.length-1],s,t.margin,t.galleryMargin,m),m<f.maxHeight&&(r=[])))}}function p(e,t,r,o,i){return v(e,i),b(e,t,r,o)}function y(e,t,r,o,i){i=v(e,i);var s=0;return n(e).each(function(){s+=n(this).width()}),s>t&&(i=b(e,t,r,o)),i}function x(e){return n(e).each(function(){n(this).css("display","none")}),0}function v(e,t){for(var r=0;r<e.length;r++){var o=t/e[r].height();e[r].width(e[r].width()*o)}return e[0].height()}function b(e,t,r,o){var i=0;n(e).each(function(){i+=n(this).width()});var s=e.length*r*2;s+=o;for(var f=(t-s)/i,l=0;l<e.length;l++)e[l].css("width",e[l].width()*f);return e[0].height()}function S(e){if(typeof e=="object")return e}function k(e,t){var r={itemsPerRow:void 0,maxHeight:void 0};e<=991&&(r.maxHeight=screen.height);for(var o=S(t),i=o.breakPoints.length-1;i>=0;i--)(o.breakPoints[i].minWidth&&o.breakPoints[i].minWidth<e||o.breakPoints[i].maxWidth&&o.breakPoints[i].maxWidth>e)&&(r.itemsPerRow=o.breakPoints[i].columns);return o.maxHeight&&(r.maxHeight=o.maxHeight),r}function h(e,t,r){var o;return function(){var i=this,s=arguments,f=function(){o=null,r||e.apply(i,s)},l=r&&!o;clearTimeout(o),o=setTimeout(f,t),l&&e.apply(i,s)}}})(jQuery);function T(){let n=document.getElementById("map"),c=document.getElementById("placeName").innerHTML,u=n.getAttribute("data-zoom")&&n.getAttribute("data-zoom")!==""?Number(n.getAttribute("data-zoom")):14,g=Number(n.getAttribute("data-map-lat")),a=Number(n.getAttribute("data-map-lng")),p=n.getAttribute("data-marker-lat")&&n.getAttribute("data-marker-lat")!==""?Number(n.getAttribute("data-marker-lat")):g,y=n.getAttribute("data-marker-lng")&&n.getAttribute("data-marker-lng")!==""?Number(n.getAttribute("data-marker-lng")):a,x=n.getAttribute("data-ski-lift-lat")&&n.getAttribute("data-ski-lift-lat")!==""?Number(n.getAttribute("data-ski-lift-lat")):null,v=n.getAttribute("data-ski-lift-lng")&&n.getAttribute("data-ski-lift-lng")!==""?Number(n.getAttribute("data-ski-lift-lng")):null,b=new google.maps.LatLng(g,a),S=new google.maps.Map(n,{zoom:u,center:b,mapId:"b0249619239fa08f",mapTypeControl:!1,mapTypeId:"roadmap",scrollwheel:!1,zoomControl:!0,scaleControl:!1,streetViewControl:!1,rotateControl:!1,fullscreenControl:!1,draggable:!0});E(S,[[c,p,y,1]]),function(){let h=x!==null&&v!==null?x+","+v:!1;if(h){console.log("nearestSkiLift",h);let t=document.getElementById("skiLiftRequiresTransfer").innerHTML.toLowerCase(),r=t==="true"?"transfer":"walk";console.log("travelMode",r);var e=new google.maps.DistanceMatrixService;e.getDistanceMatrix({origins:[{lat:p,lng:y}],destinations:[h],travelMode:t==="true"?"DRIVING":"WALKING",unitSystem:google.maps.UnitSystem.METRIC,avoidHighways:!1,avoidTolls:!1},function(o,i){if(i!=="OK")console.log("Google Maps error: "+i);else{var s=o.originAddresses;console.log(s);var f=o.destinationAddresses;console.log(f);var l=document.getElementById("distanceToSkiLift");l.innerHTML="";for(var m=0;m<s.length;m++){var d=o.rows[m].elements;console.log(d);for(var w=0;w<d.length;w++)l.innerHTML+=d[w].distance.text+" ("+d[w].duration.text+" "+r+")"}}})}else{let t=document.getElementById("skiLift");t&&t.remove()}}(),function(){let h={geneva:"Geneva Airport, Switzerland",turinCaselle:"Turin Caselle Airport, Italy",milanLinate:"Milan Linate Airport, Italy",milanBergamo:"Milan Bergamo Airport, Italy",milanMalpensa:"Milan Malpensa Airport, Italy"},e=A(document.getElementById("nearestAirport").innerHTML),t=h[e];var r=new google.maps.DistanceMatrixService;r.getDistanceMatrix({origins:[{lat:g,lng:a}],destinations:[t],travelMode:"DRIVING",unitSystem:google.maps.UnitSystem.METRIC,avoidHighways:!1,avoidTolls:!1},function(o,i){if(i!=="OK")console.log("Google Maps error: "+i);else{var s=o.originAddresses,f=document.getElementById("transferTime");f.innerHTML="";for(var l=0;l<s.length;l++)for(var m=o.rows[l].elements,d=0;d<m.length;d++)f.innerHTML+=m[d].duration.text}})}()}function E(n,c){let u={url:"https://uploads-ssl.webflow.com/62cdb1d040dc8c2af67a35e2/65424682dbcb40a84b02df58_zuba-map-pin-blue.svg",size:new google.maps.Size(28,38),scaledSize:new google.maps.Size(28,38),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(14,38)},g={coords:[0,0,0,27,27,27,27,0],type:"poly"};for(let a=0;a<c.length;a++){let p=c[a];new google.maps.Marker({position:{lat:p[1],lng:p[2]},map:n,icon:u,shape:g,title:p[0],zIndex:p[3],animation:google.maps.Animation.DROP})}}window.initMap=T;window.Webflow||(window.Webflow=[]);window.Webflow.push(()=>{M(".lodging_slider .fill-image"),$.fn.triggerResize=function(){$(window).trigger("resize")},$(".gallery_list").gallerify({margin:1,galleryMargin:0,mode:{maxHeight:screen.height*.5,breakPoints:[{minWidth:1438,columns:4},{minWidth:990,columns:3},{maxWidth:991,columns:2}]},lastRow:"fullwidth"}).triggerResize(),I("https://maps.googleapis.com/maps/api/js?key=AIzaSyAsmJ7vkgSH7CEy0iMv7aKGD95oGRNgsUI&callback=initMap&v=weekly")});})();
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */
