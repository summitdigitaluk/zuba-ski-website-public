"use strict";(()=>{var sn=Object.create;var dt=Object.defineProperty;var ln=Object.getOwnPropertyDescriptor;var un=Object.getOwnPropertyNames;var cn=Object.getPrototypeOf,dn=Object.prototype.hasOwnProperty;var fn=(t,n)=>()=>(n||t((n={exports:{}}).exports,n),n.exports);var hn=(t,n,e,a)=>{if(n&&typeof n=="object"||typeof n=="function")for(let s of un(n))!dn.call(t,s)&&s!==e&&dt(t,s,{get:()=>n[s],enumerable:!(a=ln(n,s))||a.enumerable});return t};var mn=(t,n,e)=>(e=t!=null?sn(cn(t)):{},hn(n||!t||!t.__esModule?dt(e,"default",{value:t,enumerable:!0}):e,t));var bt=fn(()=>{$.extend($.fn,{validate:function(t){if(!this.length){t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing.");return}var n=$.data(this[0],"validator");return n||(this.attr("novalidate","novalidate"),n=new $.validator(t,this[0]),$.data(this[0],"validator",n),n.settings.onsubmit&&(this.on("click.validate",":submit",function(e){n.submitButton=e.currentTarget,$(this).hasClass("cancel")&&(n.cancelSubmit=!0),$(this).attr("formnovalidate")!==void 0&&(n.cancelSubmit=!0)}),this.on("submit.validate",function(e){n.settings.debug&&e.preventDefault();function a(){var s,l;return n.submitButton&&(n.settings.submitHandler||n.formSubmitted)&&(s=$("<input type='hidden'/>").attr("name",n.submitButton.name).val($(n.submitButton).val()).appendTo(n.currentForm)),n.settings.submitHandler&&!n.settings.debug?(l=n.settings.submitHandler.call(n,n.currentForm,e),s&&s.remove(),l!==void 0?l:!1):!0}return n.cancelSubmit?(n.cancelSubmit=!1,a()):n.form()?n.pendingRequest?(n.formSubmitted=!0,!1):a():(n.focusInvalid(),!1)})),n)},valid:function(){var t,n,e;return $(this[0]).is("form")?t=this.validate().form():(e=[],t=!0,n=$(this[0].form).validate(),this.each(function(){t=n.element(this)&&t,t||(e=e.concat(n.errorList))}),n.errorList=e),t},rules:function(t,n){var e=this[0],a=typeof this.attr("contenteditable")!="undefined"&&this.attr("contenteditable")!=="false",s,l,c,d,f,v;if(e!=null&&(!e.form&&a&&(e.form=this.closest("form")[0],e.name=this.attr("name")),e.form!=null)){if(t)switch(s=$.data(e.form,"validator").settings,l=s.rules,c=$.validator.staticRules(e),t){case"add":$.extend(c,$.validator.normalizeRule(n)),delete c.messages,l[e.name]=c,n.messages&&(s.messages[e.name]=$.extend(s.messages[e.name],n.messages));break;case"remove":return n?(v={},$.each(n.split(/\s/),function(b,C){v[C]=c[C],delete c[C]}),v):(delete l[e.name],c)}return d=$.validator.normalizeRules($.extend({},$.validator.classRules(e),$.validator.attributeRules(e),$.validator.dataRules(e),$.validator.staticRules(e)),e),d.required&&(f=d.required,delete d.required,d=$.extend({required:f},d)),d.remote&&(f=d.remote,delete d.remote,d=$.extend(d,{remote:f})),d}}});var vt=function(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")};$.extend($.expr.pseudos||$.expr[":"],{blank:function(t){return!vt(""+$(t).val())},filled:function(t){var n=$(t).val();return n!==null&&!!vt(""+n)},unchecked:function(t){return!$(t).prop("checked")}});$.validator=function(t,n){this.settings=$.extend(!0,{},$.validator.defaults,t),this.currentForm=n,this.init()};$.validator.format=function(t,n){return arguments.length===1?function(){var e=$.makeArray(arguments);return e.unshift(t),$.validator.format.apply(this,e)}:(n===void 0||(arguments.length>2&&n.constructor!==Array&&(n=$.makeArray(arguments).slice(1)),n.constructor!==Array&&(n=[n]),$.each(n,function(e,a){t=t.replace(new RegExp("\\{"+e+"\\}","g"),function(){return a})})),t)};$.extend($.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:$([]),errorLabelContainer:$([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(t){this.lastActive=t,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,t,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(t)))},onfocusout:function(t){!this.checkable(t)&&(t.name in this.submitted||!this.optional(t))&&this.element(t)},onkeyup:function(t,n){var e=[16,17,18,20,35,36,37,38,39,40,45,144,225];n.which===9&&this.elementValue(t)===""||$.inArray(n.keyCode,e)!==-1||(t.name in this.submitted||t.name in this.invalid)&&this.element(t)},onclick:function(t){t.name in this.submitted?this.element(t):t.parentNode.name in this.submitted&&this.element(t.parentNode)},highlight:function(t,n,e){t.type==="radio"?this.findByName(t.name).addClass(n).removeClass(e):$(t).addClass(n).removeClass(e)},unhighlight:function(t,n,e){t.type==="radio"?this.findByName(t.name).removeClass(n).addClass(e):$(t).removeClass(n).addClass(e)}},setDefaults:function(t){$.extend($.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:$.validator.format("Please enter no more than {0} characters."),minlength:$.validator.format("Please enter at least {0} characters."),rangelength:$.validator.format("Please enter a value between {0} and {1} characters long."),range:$.validator.format("Please enter a value between {0} and {1}."),max:$.validator.format("Please enter a value less than or equal to {0}."),min:$.validator.format("Please enter a value greater than or equal to {0}."),step:$.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){this.labelContainer=$(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||$(this.currentForm),this.containers=$(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var t=this.currentForm,n=this.groups={},e;$.each(this.settings.groups,function(s,l){typeof l=="string"&&(l=l.split(/\s/)),$.each(l,function(c,d){n[d]=s})}),e=this.settings.rules,$.each(e,function(s,l){e[s]=$.validator.normalizeRule(l)});function a(s){var l=typeof $(this).attr("contenteditable")!="undefined"&&$(this).attr("contenteditable")!=="false";if(!this.form&&l&&(this.form=$(this).closest("form")[0],this.name=$(this).attr("name")),t===this.form){var c=$.data(this.form,"validator"),d="on"+s.type.replace(/^validate/,""),f=c.settings;f[d]&&!$(this).is(f.ignore)&&f[d].call(c,this,s)}}$(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable], [type='button']",a).on("click.validate","select, option, [type='radio'], [type='checkbox']",a),this.settings.invalidHandler&&$(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),$.extend(this.submitted,this.errorMap),this.invalid=$.extend({},this.errorMap),this.valid()||$(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var t=0,n=this.currentElements=this.elements();n[t];t++)this.check(n[t]);return this.valid()},element:function(t){var n=this.clean(t),e=this.validationTargetFor(n),a=this,s=!0,l,c;return e===void 0?delete this.invalid[n.name]:(this.prepareElement(e),this.currentElements=$(e),c=this.groups[e.name],c&&$.each(this.groups,function(d,f){f===c&&d!==e.name&&(n=a.validationTargetFor(a.clean(a.findByName(d))),n&&n.name in a.invalid&&(a.currentElements.push(n),s=a.check(n)&&s))}),l=this.check(e)!==!1,s=s&&l,l?this.invalid[e.name]=!1:this.invalid[e.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),$(t).attr("aria-invalid",!l)),s},showErrors:function(t){if(t){var n=this;$.extend(this.errorMap,t),this.errorList=$.map(this.errorMap,function(e,a){return{message:e,element:n.findByName(a)[0]}}),this.successList=$.grep(this.successList,function(e){return!(e.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){$.fn.resetForm&&$(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors();var t=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(t)},resetElements:function(t){var n;if(this.settings.unhighlight)for(n=0;t[n];n++)this.settings.unhighlight.call(this,t[n],this.settings.errorClass,""),this.findByName(t[n].name).removeClass(this.settings.validClass);else t.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(t){var n=0,e;for(e in t)t[e]!==void 0&&t[e]!==null&&t[e]!==!1&&n++;return n},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(t){t.not(this.containers).text(""),this.addWrapper(t).hide()},valid:function(){return this.size()===0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{$(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").trigger("focus").trigger("focusin")}catch{}},findLastActive:function(){var t=this.lastActive;return t&&$.grep(this.errorList,function(n){return n.element.name===t.name}).length===1&&t},elements:function(){var t=this,n={};return $(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var e=this.name||$(this).attr("name"),a=typeof $(this).attr("contenteditable")!="undefined"&&$(this).attr("contenteditable")!=="false";return!e&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),a&&(this.form=$(this).closest("form")[0],this.name=e),this.form!==t.currentForm||e in n||!t.objectLength($(this).rules())?!1:(n[e]=!0,!0)})},clean:function(t){return $(t)[0]},errors:function(){var t=this.settings.errorClass.split(" ").join(".");return $(this.settings.errorElement+"."+t,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=$([]),this.toHide=$([])},reset:function(){this.resetInternals(),this.currentElements=$([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(t){this.reset(),this.toHide=this.errorsFor(t)},elementValue:function(t){var n=$(t),e=t.type,a=typeof n.attr("contenteditable")!="undefined"&&n.attr("contenteditable")!=="false",s,l;return e==="radio"||e==="checkbox"?this.findByName(t.name).filter(":checked").val():e==="number"&&typeof t.validity!="undefined"?t.validity.badInput?"NaN":n.val():(a?s=n.text():s=n.val(),e==="file"?s.substr(0,12)==="C:\\fakepath\\"?s.substr(12):(l=s.lastIndexOf("/"),l>=0||(l=s.lastIndexOf("\\"),l>=0)?s.substr(l+1):s):typeof s=="string"?s.replace(/\r/g,""):s)},check:function(t){t=this.validationTargetFor(this.clean(t));var n=$(t).rules(),e=$.map(n,function(v,b){return b}).length,a=!1,s=this.elementValue(t),l,c,d,f;typeof n.normalizer=="function"?f=n.normalizer:typeof this.settings.normalizer=="function"&&(f=this.settings.normalizer),f&&(s=f.call(t,s),delete n.normalizer);for(c in n){d={method:c,parameters:n[c]};try{if(l=$.validator.methods[c].call(this,s,t,d.parameters),l==="dependency-mismatch"&&e===1){a=!0;continue}if(a=!1,l==="pending"){this.toHide=this.toHide.not(this.errorsFor(t));return}if(!l)return this.formatAndAdd(t,d),!1}catch(v){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+d.method+"' method.",v),v instanceof TypeError&&(v.message+=".  Exception occurred when checking element "+t.id+", check the '"+d.method+"' method."),v}}if(!a)return this.objectLength(n)&&this.successList.push(t),!0},customDataMessage:function(t,n){return $(t).data("msg"+n.charAt(0).toUpperCase()+n.substring(1).toLowerCase())||$(t).data("msg")},customMessage:function(t,n){var e=this.settings.messages[t];return e&&(e.constructor===String?e:e[n])},findDefined:function(){for(var t=0;t<arguments.length;t++)if(arguments[t]!==void 0)return arguments[t]},defaultMessage:function(t,n){typeof n=="string"&&(n={method:n});var e=this.findDefined(this.customMessage(t.name,n.method),this.customDataMessage(t,n.method),!this.settings.ignoreTitle&&t.title||void 0,$.validator.messages[n.method],"<strong>Warning: No message defined for "+t.name+"</strong>"),a=/\$?\{(\d+)\}/g;return typeof e=="function"?e=e.call(this,n.parameters,t):a.test(e)&&(e=$.validator.format(e.replace(a,"{$1}"),n.parameters)),e},formatAndAdd:function(t,n){var e=this.defaultMessage(t,n);this.errorList.push({message:e,element:t,method:n.method}),this.errorMap[t.name]=e,this.submitted[t.name]=e},addWrapper:function(t){return this.settings.wrapper&&(t=t.add(t.parent(this.settings.wrapper))),t},defaultShowErrors:function(){var t,n,e;for(t=0;this.errorList[t];t++)e=this.errorList[t],this.settings.highlight&&this.settings.highlight.call(this,e.element,this.settings.errorClass,this.settings.validClass),this.showLabel(e.element,e.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(t=0;this.successList[t];t++)this.showLabel(this.successList[t]);if(this.settings.unhighlight)for(t=0,n=this.validElements();n[t];t++)this.settings.unhighlight.call(this,n[t],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return $(this.errorList).map(function(){return this.element})},showLabel:function(t,n){var e,a,s,l,c=this.errorsFor(t),d=this.idOrName(t),f=$(t).attr("aria-describedby");c.length?(c.removeClass(this.settings.validClass).addClass(this.settings.errorClass),c.html(n)):(c=$("<"+this.settings.errorElement+">").attr("id",d+"-error").addClass(this.settings.errorClass).html(n||""),e=c,this.settings.wrapper&&(e=c.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(e):this.settings.errorPlacement?this.settings.errorPlacement.call(this,e,$(t)):e.insertAfter(t),c.is("label")?c.attr("for",d):c.parents("label[for='"+this.escapeCssMeta(d)+"']").length===0&&(s=c.attr("id"),f?f.match(new RegExp("\\b"+this.escapeCssMeta(s)+"\\b"))||(f+=" "+s):f=s,$(t).attr("aria-describedby",f),a=this.groups[t.name],a&&(l=this,$.each(l.groups,function(v,b){b===a&&$("[name='"+l.escapeCssMeta(v)+"']",l.currentForm).attr("aria-describedby",c.attr("id"))})))),!n&&this.settings.success&&(c.text(""),typeof this.settings.success=="string"?c.addClass(this.settings.success):this.settings.success(c,t)),this.toShow=this.toShow.add(c)},errorsFor:function(t){var n=this.escapeCssMeta(this.idOrName(t)),e=$(t).attr("aria-describedby"),a="label[for='"+n+"'], label[for='"+n+"'] *";return e&&(a=a+", #"+this.escapeCssMeta(e).replace(/\s+/g,", #")),this.errors().filter(a)},escapeCssMeta:function(t){return t===void 0?"":t.replace(/([\\!"#$%&'()*+,./:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(t){return this.groups[t.name]||(this.checkable(t)?t.name:t.id||t.name)},validationTargetFor:function(t){return this.checkable(t)&&(t=this.findByName(t.name)),$(t).not(this.settings.ignore)[0]},checkable:function(t){return/radio|checkbox/i.test(t.type)},findByName:function(t){return $(this.currentForm).find("[name='"+this.escapeCssMeta(t)+"']")},getLength:function(t,n){switch(n.nodeName.toLowerCase()){case"select":return $("option:selected",n).length;case"input":if(this.checkable(n))return this.findByName(n.name).filter(":checked").length}return t.length},depend:function(t,n){return this.dependTypes[typeof t]?this.dependTypes[typeof t](t,n):!0},dependTypes:{boolean:function(t){return t},string:function(t,n){return!!$(t,n.form).length},function:function(t,n){return t(n)}},optional:function(t){var n=this.elementValue(t);return!$.validator.methods.required.call(this,n,t)&&"dependency-mismatch"},startRequest:function(t){this.pending[t.name]||(this.pendingRequest++,$(t).addClass(this.settings.pendingClass),this.pending[t.name]=!0)},stopRequest:function(t,n){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],$(t).removeClass(this.settings.pendingClass),n&&this.pendingRequest===0&&this.formSubmitted&&this.form()&&this.pendingRequest===0?($(this.currentForm).trigger("submit"),this.submitButton&&$("input:hidden[name='"+this.submitButton.name+"']",this.currentForm).remove(),this.formSubmitted=!1):!n&&this.pendingRequest===0&&this.formSubmitted&&($(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t,n){return n=typeof n=="string"&&n||"remote",$.data(t,"previousValue")||$.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,{method:n})})},destroy:function(){this.resetForm(),$(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur").find(".validate-lessThan-blur").off(".validate-lessThan").removeClass("validate-lessThan-blur").find(".validate-lessThanEqual-blur").off(".validate-lessThanEqual").removeClass("validate-lessThanEqual-blur").find(".validate-greaterThanEqual-blur").off(".validate-greaterThanEqual").removeClass("validate-greaterThanEqual-blur").find(".validate-greaterThan-blur").off(".validate-greaterThan").removeClass("validate-greaterThan-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,n){t.constructor===String?this.classRuleSettings[t]=n:$.extend(this.classRuleSettings,t)},classRules:function(t){var n={},e=$(t).attr("class");return e&&$.each(e.split(" "),function(){this in $.validator.classRuleSettings&&$.extend(n,$.validator.classRuleSettings[this])}),n},normalizeAttributeRule:function(t,n,e,a){/min|max|step/.test(e)&&(n===null||/number|range|text/.test(n))&&(a=Number(a),isNaN(a)&&(a=void 0)),a||a===0?t[e]=a:n===e&&n!=="range"&&(t[n==="date"?"dateISO":e]=!0)},attributeRules:function(t){var n={},e=$(t),a=t.getAttribute("type"),s,l;for(s in $.validator.methods)s==="required"?(l=t.getAttribute(s),l===""&&(l=!0),l=!!l):l=e.attr(s),this.normalizeAttributeRule(n,a,s,l);return n.maxlength&&/-1|2147483647|524288/.test(n.maxlength)&&delete n.maxlength,n},dataRules:function(t){var n={},e=$(t),a=t.getAttribute("type"),s,l;for(s in $.validator.methods)l=e.data("rule"+s.charAt(0).toUpperCase()+s.substring(1).toLowerCase()),l===""&&(l=!0),this.normalizeAttributeRule(n,a,s,l);return n},staticRules:function(t){var n={},e=$.data(t.form,"validator");return e.settings.rules&&(n=$.validator.normalizeRule(e.settings.rules[t.name])||{}),n},normalizeRules:function(t,n){return $.each(t,function(e,a){if(a===!1){delete t[e];return}if(a.param||a.depends){var s=!0;switch(typeof a.depends){case"string":s=!!$(a.depends,n.form).length;break;case"function":s=a.depends.call(n,n);break}s?t[e]=a.param!==void 0?a.param:!0:($.data(n.form,"validator").resetElements($(n)),delete t[e])}}),$.each(t,function(e,a){t[e]=typeof a=="function"&&e!=="normalizer"?a(n):a}),$.each(["minlength","maxlength"],function(){t[this]&&(t[this]=Number(t[this]))}),$.each(["rangelength","range"],function(){var e;t[this]&&(Array.isArray(t[this])?t[this]=[Number(t[this][0]),Number(t[this][1])]:typeof t[this]=="string"&&(e=t[this].replace(/[\[\]]/g,"").split(/[\s,]+/),t[this]=[Number(e[0]),Number(e[1])]))}),$.validator.autoCreateRanges&&(t.min!=null&&t.max!=null&&(t.range=[t.min,t.max],delete t.min,delete t.max),t.minlength!=null&&t.maxlength!=null&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t},normalizeRule:function(t){if(typeof t=="string"){var n={};$.each(t.split(/\s/),function(){n[this]=!0}),t=n}return t},addMethod:function(t,n,e){$.validator.methods[t]=n,$.validator.messages[t]=e!==void 0?e:$.validator.messages[t],n.length<3&&$.validator.addClassRules(t,$.validator.normalizeRule(t))},methods:{required:function(t,n,e){if(!this.depend(e,n))return"dependency-mismatch";if(n.nodeName.toLowerCase()==="select"){var a=$(n).val();return a&&a.length>0}return this.checkable(n)?this.getLength(t,n)>0:t!=null&&t.length>0},email:function(t,n){return this.optional(n)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(t)},url:function(t,n){return this.optional(n)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:(?:[^\]\[?\/<~#`!@$^&*()+=}|:";',>{ ]|%[0-9A-Fa-f]{2})+(?::(?:[^\]\[?\/<~#`!@$^&*()+=}|:";',>{ ]|%[0-9A-Fa-f]{2})*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(t)},date:function(){var t=!1;return function(n,e){return t||(t=!0,this.settings.debug&&window.console&&console.warn("The `date` method is deprecated and will be removed in version '2.0.0'.\nPlease don't use it, since it relies on the Date constructor, which\nbehaves very differently across browsers and locales. Use `dateISO`\ninstead or one of the locale specific methods in `localizations/`\nand `additional-methods.js`.")),this.optional(e)||!/Invalid|NaN/.test(new Date(n).toString())}}(),dateISO:function(t,n){return this.optional(n)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(t)},number:function(t,n){return this.optional(n)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(t)},digits:function(t,n){return this.optional(n)||/^\d+$/.test(t)},minlength:function(t,n,e){var a=Array.isArray(t)?t.length:this.getLength(t,n);return this.optional(n)||a>=e},maxlength:function(t,n,e){var a=Array.isArray(t)?t.length:this.getLength(t,n);return this.optional(n)||a<=e},rangelength:function(t,n,e){var a=Array.isArray(t)?t.length:this.getLength(t,n);return this.optional(n)||a>=e[0]&&a<=e[1]},min:function(t,n,e){return this.optional(n)||t>=e},max:function(t,n,e){return this.optional(n)||t<=e},range:function(t,n,e){return this.optional(n)||t>=e[0]&&t<=e[1]},step:function(t,n,e){var a=$(n).attr("type"),s="Step attribute on input type "+a+" is not supported.",l=["text","number","range"],c=new RegExp("\\b"+a+"\\b"),d=a&&!c.test(l.join()),f=function(D){var k=(""+D).match(/(?:\.(\d+))?$/);return k&&k[1]?k[1].length:0},v=function(D){return Math.round(D*Math.pow(10,C))},b=!0,C;if(d)throw new Error(s);return C=f(e),(f(t)>C||v(t)%v(e)!==0)&&(b=!1),this.optional(n)||b},equalTo:function(t,n,e){var a=$(e);return this.settings.onfocusout&&a.not(".validate-equalTo-blur").length&&a.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){$(n).valid()}),t===a.val()},remote:function(t,n,e,a){if(this.optional(n))return"dependency-mismatch";a=typeof a=="string"&&a||"remote";var s=this.previousValue(n,a),l,c,d;return this.settings.messages[n.name]||(this.settings.messages[n.name]={}),s.originalMessage=s.originalMessage||this.settings.messages[n.name][a],this.settings.messages[n.name][a]=s.message,e=typeof e=="string"&&{url:e}||e,d=$.param($.extend({data:t},e.data)),s.old===d?s.valid:(s.old=d,l=this,this.startRequest(n),c={},c[n.name]=t,$.ajax($.extend(!0,{mode:"abort",port:"validate"+n.name,dataType:"json",data:c,context:l.currentForm,success:function(f){var v=f===!0||f==="true",b,C,D;l.settings.messages[n.name][a]=s.originalMessage,v?(D=l.formSubmitted,l.resetInternals(),l.toHide=l.errorsFor(n),l.formSubmitted=D,l.successList.push(n),l.invalid[n.name]=!1,l.showErrors()):(b={},C=f||l.defaultMessage(n,{method:a,parameters:t}),b[n.name]=s.message=C,l.invalid[n.name]=!0,l.showErrors(b)),s.valid=v,l.stopRequest(n,v)}},e)),"pending")}}});var X={},ze;$.ajaxPrefilter?$.ajaxPrefilter(function(t,n,e){var a=t.port;t.mode==="abort"&&(X[a]&&X[a].abort(),X[a]=e)}):(ze=$.ajax,$.ajax=function(t){var n=("mode"in t?t:$.ajaxSettings).mode,e=("port"in t?t:$.ajaxSettings).port;return n==="abort"?(X[e]&&X[e].abort(),X[e]=ze.apply(this,arguments),X[e]):ze.apply(this,arguments)});return $});var ke=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],V={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:typeof window=="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(t){return typeof console!="undefined"&&console.warn(t)},getWeek:function(t){var n=new Date(t.getTime());n.setHours(0,0,0,0),n.setDate(n.getDate()+3-(n.getDay()+6)%7);var e=new Date(n.getFullYear(),0,4);return 1+Math.round(((n.getTime()-e.getTime())/864e5-3+(e.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1};var $e={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(t){var n=t%100;if(n>3&&n<21)return"th";switch(n%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},Se=$e;var P=function(t,n){return n===void 0&&(n=2),("000"+t).slice(n*-1)},Y=function(t){return t===!0?1:0};function Ye(t,n){var e;return function(){var a=this,s=arguments;clearTimeout(e),e=setTimeout(function(){return t.apply(a,s)},n)}}var Ee=function(t){return t instanceof Array?t:[t]};function L(t,n,e){if(e===!0)return t.classList.add(n);t.classList.remove(n)}function S(t,n,e){var a=window.document.createElement(t);return n=n||"",e=e||"",a.className=n,e!==void 0&&(a.textContent=e),a}function ce(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function Re(t,n){if(n(t))return t;if(t.parentNode)return Re(t.parentNode,n)}function de(t,n){var e=S("div","numInputWrapper"),a=S("input","numInput "+t),s=S("span","arrowUp"),l=S("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1?a.type="number":(a.type="text",a.pattern="\\d*"),n!==void 0)for(var c in n)a.setAttribute(c,n[c]);return e.appendChild(a),e.appendChild(s),e.appendChild(l),e}function R(t){try{if(typeof t.composedPath=="function"){var n=t.composedPath();return n[0]}return t.target}catch{return t.target}}var je=function(){},fe=function(t,n,e){return e.months[n?"shorthand":"longhand"][t]},ft={D:je,F:function(t,n,e){t.setMonth(e.months.longhand.indexOf(n))},G:function(t,n){t.setHours((t.getHours()>=12?12:0)+parseFloat(n))},H:function(t,n){t.setHours(parseFloat(n))},J:function(t,n){t.setDate(parseFloat(n))},K:function(t,n,e){t.setHours(t.getHours()%12+12*Y(new RegExp(e.amPM[1],"i").test(n)))},M:function(t,n,e){t.setMonth(e.months.shorthand.indexOf(n))},S:function(t,n){t.setSeconds(parseFloat(n))},U:function(t,n){return new Date(parseFloat(n)*1e3)},W:function(t,n,e){var a=parseInt(n),s=new Date(t.getFullYear(),0,2+(a-1)*7,0,0,0,0);return s.setDate(s.getDate()-s.getDay()+e.firstDayOfWeek),s},Y:function(t,n){t.setFullYear(parseFloat(n))},Z:function(t,n){return new Date(n)},d:function(t,n){t.setDate(parseFloat(n))},h:function(t,n){t.setHours((t.getHours()>=12?12:0)+parseFloat(n))},i:function(t,n){t.setMinutes(parseFloat(n))},j:function(t,n){t.setDate(parseFloat(n))},l:je,m:function(t,n){t.setMonth(parseFloat(n)-1)},n:function(t,n){t.setMonth(parseFloat(n)-1)},s:function(t,n){t.setSeconds(parseFloat(n))},u:function(t,n){return new Date(parseFloat(n))},w:je,y:function(t,n){t.setFullYear(2e3+parseFloat(n))}},K={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},ie={Z:function(t){return t.toISOString()},D:function(t,n,e){return n.weekdays.shorthand[ie.w(t,n,e)]},F:function(t,n,e){return fe(ie.n(t,n,e)-1,!1,n)},G:function(t,n,e){return P(ie.h(t,n,e))},H:function(t){return P(t.getHours())},J:function(t,n){return n.ordinal!==void 0?t.getDate()+n.ordinal(t.getDate()):t.getDate()},K:function(t,n){return n.amPM[Y(t.getHours()>11)]},M:function(t,n){return fe(t.getMonth(),!0,n)},S:function(t){return P(t.getSeconds())},U:function(t){return t.getTime()/1e3},W:function(t,n,e){return e.getWeek(t)},Y:function(t){return P(t.getFullYear(),4)},d:function(t){return P(t.getDate())},h:function(t){return t.getHours()%12?t.getHours()%12:12},i:function(t){return P(t.getMinutes())},j:function(t){return t.getDate()},l:function(t,n){return n.weekdays.longhand[t.getDay()]},m:function(t){return P(t.getMonth()+1)},n:function(t){return t.getMonth()+1},s:function(t){return t.getSeconds()},u:function(t){return t.getTime()},w:function(t){return t.getDay()},y:function(t){return String(t.getFullYear()).substring(2)}};var Be=function(t){var n=t.config,e=n===void 0?V:n,a=t.l10n,s=a===void 0?$e:a,l=t.isMobile,c=l===void 0?!1:l;return function(d,f,v){var b=v||s;return e.formatDate!==void 0&&!c?e.formatDate(d,f,b):f.split("").map(function(C,D,k){return ie[C]&&k[D-1]!=="\\"?ie[C](d,b,e):C!=="\\"?C:""}).join("")}},_e=function(t){var n=t.config,e=n===void 0?V:n,a=t.l10n,s=a===void 0?$e:a;return function(l,c,d,f){if(!(l!==0&&!l)){var v=f||s,b,C=l;if(l instanceof Date)b=new Date(l.getTime());else if(typeof l!="string"&&l.toFixed!==void 0)b=new Date(l);else if(typeof l=="string"){var D=c||(e||V).dateFormat,k=String(l).trim();if(k==="today")b=new Date,d=!0;else if(e&&e.parseDate)b=e.parseDate(l,D);else if(/Z$/.test(k)||/GMT$/.test(k))b=new Date(l);else{for(var F=void 0,w=[],q=0,O=0,_="";q<D.length;q++){var I=D[q],B=I==="\\",Z=D[q-1]==="\\"||B;if(K[I]&&!Z){_+=K[I];var U=new RegExp(_).exec(l);U&&(F=!0)&&w[I!=="Y"?"push":"unshift"]({fn:ft[I],val:U[++O]})}else B||(_+=".")}b=!e||!e.noCalendar?new Date(new Date().getFullYear(),0,1,0,0,0,0):new Date(new Date().setHours(0,0,0,0)),w.forEach(function(ee){var te=ee.fn,Ae=ee.val;return b=te(b,Ae,v)||b}),b=F?b:void 0}}if(!(b instanceof Date&&!isNaN(b.getTime()))){e.errorHandler(new Error("Invalid date provided: "+C));return}return d===!0&&b.setHours(0,0,0,0),b}}};function j(t,n,e){return e===void 0&&(e=!0),e!==!1?new Date(t.getTime()).setHours(0,0,0,0)-new Date(n.getTime()).setHours(0,0,0,0):t.getTime()-n.getTime()}var ht=function(t,n,e){return t>Math.min(n,e)&&t<Math.max(n,e)},Te=function(t,n,e){return t*3600+n*60+e},mt=function(t){var n=Math.floor(t/3600),e=(t-n*3600)/60;return[n,e,t-n*3600-e*60]},pt={DAY:864e5};function Ie(t){var n=t.defaultHour,e=t.defaultMinute,a=t.defaultSeconds;if(t.minDate!==void 0){var s=t.minDate.getHours(),l=t.minDate.getMinutes(),c=t.minDate.getSeconds();n<s&&(n=s),n===s&&e<l&&(e=l),n===s&&e===l&&a<c&&(a=t.minDate.getSeconds())}if(t.maxDate!==void 0){var d=t.maxDate.getHours(),f=t.maxDate.getMinutes();n=Math.min(n,d),n===d&&(e=Math.min(f,e)),n===d&&e===f&&(a=t.maxDate.getSeconds())}return{hours:n,minutes:e,seconds:a}}typeof Object.assign!="function"&&(Object.assign=function(t){for(var n=[],e=1;e<arguments.length;e++)n[e-1]=arguments[e];if(!t)throw TypeError("Cannot convert undefined or null to object");for(var a=function(d){d&&Object.keys(d).forEach(function(f){return t[f]=d[f]})},s=0,l=n;s<l.length;s++){var c=l[s];a(c)}return t});var H=function(){return H=Object.assign||function(t){for(var n,e=1,a=arguments.length;e<a;e++){n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},H.apply(this,arguments)},gt=function(){for(var t=0,n=0,e=arguments.length;n<e;n++)t+=arguments[n].length;for(var a=Array(t),s=0,n=0;n<e;n++)for(var l=arguments[n],c=0,d=l.length;c<d;c++,s++)a[s]=l[c];return a},pn=300;function gn(t,n){var e={config:H(H({},V),N.defaultConfig),l10n:Se};e.parseDate=_e({config:e.config,l10n:e.l10n}),e._handlers=[],e.pluginElements=[],e.loadedPlugins=[],e._bind=w,e._setHoursFromDate=D,e._positionCalendar=Ce,e.changeMonth=Fe,e.changeYear=ye,e.clear=Ft,e.close=qt,e.onMouseOver=we,e._createElement=S,e.createDay=U,e.destroy=Nt,e.isEnabled=Q,e.jumpToDate=_,e.updateValue=G,e.open=Lt,e.redraw=ot,e.set=jt,e.setDate=Bt,e.toggle=Jt;function a(){e.utils={getDaysInMonth:function(r,i){return r===void 0&&(r=e.currentMonth),i===void 0&&(i=e.currentYear),r===1&&(i%4===0&&i%100!==0||i%400===0)?29:e.l10n.daysInMonth[r]}}}function s(){e.element=e.input=t,e.isOpen=!1,Ht(),at(),Wt(),zt(),a(),e.isMobile||Z(),O(),(e.selectedDates.length||e.config.noCalendar)&&(e.config.enableTime&&D(e.config.noCalendar?e.latestSelectedDateObj:void 0),G(!1)),d();var r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!e.isMobile&&r&&Ce(),A("onReady")}function l(){var r;return((r=e.calendarContainer)===null||r===void 0?void 0:r.getRootNode()).activeElement||document.activeElement}function c(r){return r.bind(e)}function d(){var r=e.config;r.weekNumbers===!1&&r.showMonths===1||r.noCalendar!==!0&&window.requestAnimationFrame(function(){if(e.calendarContainer!==void 0&&(e.calendarContainer.style.visibility="hidden",e.calendarContainer.style.display="block"),e.daysContainer!==void 0){var i=(e.days.offsetWidth+1)*r.showMonths;e.daysContainer.style.width=i+"px",e.calendarContainer.style.width=i+(e.weekWrapper!==void 0?e.weekWrapper.offsetWidth:0)+"px",e.calendarContainer.style.removeProperty("visibility"),e.calendarContainer.style.removeProperty("display")}})}function f(r){if(e.selectedDates.length===0){var i=e.config.minDate===void 0||j(new Date,e.config.minDate)>=0?new Date:new Date(e.config.minDate.getTime()),o=Ie(e.config);i.setHours(o.hours,o.minutes,o.seconds,i.getMilliseconds()),e.selectedDates=[i],e.latestSelectedDateObj=i}r!==void 0&&r.type!=="blur"&&Vt(r);var u=e._input.value;C(),G(),e._input.value!==u&&e._debouncedChange()}function v(r,i){return r%12+12*Y(i===e.l10n.amPM[1])}function b(r){switch(r%24){case 0:case 12:return 12;default:return r%12}}function C(){if(!(e.hourElement===void 0||e.minuteElement===void 0)){var r=(parseInt(e.hourElement.value.slice(-2),10)||0)%24,i=(parseInt(e.minuteElement.value,10)||0)%60,o=e.secondElement!==void 0?(parseInt(e.secondElement.value,10)||0)%60:0;e.amPM!==void 0&&(r=v(r,e.amPM.textContent));var u=e.config.minTime!==void 0||e.config.minDate&&e.minDateHasTime&&e.latestSelectedDateObj&&j(e.latestSelectedDateObj,e.config.minDate,!0)===0,h=e.config.maxTime!==void 0||e.config.maxDate&&e.maxDateHasTime&&e.latestSelectedDateObj&&j(e.latestSelectedDateObj,e.config.maxDate,!0)===0;if(e.config.maxTime!==void 0&&e.config.minTime!==void 0&&e.config.minTime>e.config.maxTime){var m=Te(e.config.minTime.getHours(),e.config.minTime.getMinutes(),e.config.minTime.getSeconds()),x=Te(e.config.maxTime.getHours(),e.config.maxTime.getMinutes(),e.config.maxTime.getSeconds()),g=Te(r,i,o);if(g>x&&g<m){var M=mt(m);r=M[0],i=M[1],o=M[2]}}else{if(h){var p=e.config.maxTime!==void 0?e.config.maxTime:e.config.maxDate;r=Math.min(r,p.getHours()),r===p.getHours()&&(i=Math.min(i,p.getMinutes())),i===p.getMinutes()&&(o=Math.min(o,p.getSeconds()))}if(u){var y=e.config.minTime!==void 0?e.config.minTime:e.config.minDate;r=Math.max(r,y.getHours()),r===y.getHours()&&i<y.getMinutes()&&(i=y.getMinutes()),i===y.getMinutes()&&(o=Math.max(o,y.getSeconds()))}}k(r,i,o)}}function D(r){var i=r||e.latestSelectedDateObj;i&&i instanceof Date&&k(i.getHours(),i.getMinutes(),i.getSeconds())}function k(r,i,o){e.latestSelectedDateObj!==void 0&&e.latestSelectedDateObj.setHours(r%24,i,o||0,0),!(!e.hourElement||!e.minuteElement||e.isMobile)&&(e.hourElement.value=P(e.config.time_24hr?r:(12+r)%12+12*Y(r%12===0)),e.minuteElement.value=P(i),e.amPM!==void 0&&(e.amPM.textContent=e.l10n.amPM[Y(r>=12)]),e.secondElement!==void 0&&(e.secondElement.value=P(o)))}function F(r){var i=R(r),o=parseInt(i.value)+(r.delta||0);(o/1e3>1||r.key==="Enter"&&!/[^\d]/.test(o.toString()))&&ye(o)}function w(r,i,o,u){if(i instanceof Array)return i.forEach(function(h){return w(r,h,o,u)});if(r instanceof Array)return r.forEach(function(h){return w(h,i,o,u)});r.addEventListener(i,o,u),e._handlers.push({remove:function(){return r.removeEventListener(i,o,u)}})}function q(){A("onChange")}function O(){if(e.config.wrap&&["open","close","toggle","clear"].forEach(function(o){Array.prototype.forEach.call(e.element.querySelectorAll("[data-"+o+"]"),function(u){return w(u,"click",e[o])})}),e.isMobile){Ut();return}var r=Ye(Pt,50);if(e._debouncedChange=Ye(q,pn),e.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&w(e.daysContainer,"mouseover",function(o){e.config.mode==="range"&&we(R(o))}),w(e._input,"keydown",nt),e.calendarContainer!==void 0&&w(e.calendarContainer,"keydown",nt),!e.config.inline&&!e.config.static&&w(window,"resize",r),window.ontouchstart!==void 0?w(window.document,"touchstart",qe):w(window.document,"mousedown",qe),w(window.document,"focus",qe,{capture:!0}),e.config.clickOpens===!0&&(w(e._input,"focus",e.open),w(e._input,"click",e.open)),e.daysContainer!==void 0&&(w(e.monthNav,"click",Kt),w(e.monthNav,["keyup","increment"],F),w(e.daysContainer,"click",st)),e.timeContainer!==void 0&&e.minuteElement!==void 0&&e.hourElement!==void 0){var i=function(o){return R(o).select()};w(e.timeContainer,["increment"],f),w(e.timeContainer,"blur",f,{capture:!0}),w(e.timeContainer,"click",I),w([e.hourElement,e.minuteElement],["focus","click"],i),e.secondElement!==void 0&&w(e.secondElement,"focus",function(){return e.secondElement&&e.secondElement.select()}),e.amPM!==void 0&&w(e.amPM,"click",function(o){f(o)})}e.config.allowInput&&w(e._input,"blur",Ot)}function _(r,i){var o=r!==void 0?e.parseDate(r):e.latestSelectedDateObj||(e.config.minDate&&e.config.minDate>e.now?e.config.minDate:e.config.maxDate&&e.config.maxDate<e.now?e.config.maxDate:e.now),u=e.currentYear,h=e.currentMonth;try{o!==void 0&&(e.currentYear=o.getFullYear(),e.currentMonth=o.getMonth())}catch(m){m.message="Invalid date supplied: "+o,e.config.errorHandler(m)}i&&e.currentYear!==u&&(A("onYearChange"),ne()),i&&(e.currentYear!==u||e.currentMonth!==h)&&A("onMonthChange"),e.redraw()}function I(r){var i=R(r);~i.className.indexOf("arrow")&&B(r,i.classList.contains("arrowUp")?1:-1)}function B(r,i,o){var u=r&&R(r),h=o||u&&u.parentNode&&u.parentNode.firstChild,m=Oe("increment");m.delta=i,h&&h.dispatchEvent(m)}function Z(){var r=window.document.createDocumentFragment();if(e.calendarContainer=S("div","flatpickr-calendar"),e.calendarContainer.tabIndex=-1,!e.config.noCalendar){if(r.appendChild(Tt()),e.innerContainer=S("div","flatpickr-innerContainer"),e.config.weekNumbers){var i=At(),o=i.weekWrapper,u=i.weekNumbers;e.innerContainer.appendChild(o),e.weekNumbers=u,e.weekWrapper=o}e.rContainer=S("div","flatpickr-rContainer"),e.rContainer.appendChild(et()),e.daysContainer||(e.daysContainer=S("div","flatpickr-days"),e.daysContainer.tabIndex=-1),be(),e.rContainer.appendChild(e.daysContainer),e.innerContainer.appendChild(e.rContainer),r.appendChild(e.innerContainer)}e.config.enableTime&&r.appendChild(It()),L(e.calendarContainer,"rangeMode",e.config.mode==="range"),L(e.calendarContainer,"animate",e.config.animate===!0),L(e.calendarContainer,"multiMonth",e.config.showMonths>1),e.calendarContainer.appendChild(r);var h=e.config.appendTo!==void 0&&e.config.appendTo.nodeType!==void 0;if((e.config.inline||e.config.static)&&(e.calendarContainer.classList.add(e.config.inline?"inline":"static"),e.config.inline&&(!h&&e.element.parentNode?e.element.parentNode.insertBefore(e.calendarContainer,e._input.nextSibling):e.config.appendTo!==void 0&&e.config.appendTo.appendChild(e.calendarContainer)),e.config.static)){var m=S("div","flatpickr-wrapper");e.element.parentNode&&e.element.parentNode.insertBefore(m,e.element),m.appendChild(e.element),e.altInput&&m.appendChild(e.altInput),m.appendChild(e.calendarContainer)}!e.config.static&&!e.config.inline&&(e.config.appendTo!==void 0?e.config.appendTo:window.document.body).appendChild(e.calendarContainer)}function U(r,i,o,u){var h=Q(i,!0),m=S("span",r,i.getDate().toString());return m.dateObj=i,m.$i=u,m.setAttribute("aria-label",e.formatDate(i,e.config.ariaDateFormat)),r.indexOf("hidden")===-1&&j(i,e.now)===0&&(e.todayDateElem=m,m.classList.add("today"),m.setAttribute("aria-current","date")),h?(m.tabIndex=-1,Pe(i)&&(m.classList.add("selected"),e.selectedDateElem=m,e.config.mode==="range"&&(L(m,"startRange",e.selectedDates[0]&&j(i,e.selectedDates[0],!0)===0),L(m,"endRange",e.selectedDates[1]&&j(i,e.selectedDates[1],!0)===0),r==="nextMonthDay"&&m.classList.add("inRange")))):m.classList.add("flatpickr-disabled"),e.config.mode==="range"&&Gt(i)&&!Pe(i)&&m.classList.add("inRange"),e.weekNumbers&&e.config.showMonths===1&&r!=="prevMonthDay"&&u%7===6&&e.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+e.config.getWeek(i)+"</span>"),A("onDayCreate",m),m}function ee(r){r.focus(),e.config.mode==="range"&&we(r)}function te(r){for(var i=r>0?0:e.config.showMonths-1,o=r>0?e.config.showMonths:-1,u=i;u!=o;u+=r)for(var h=e.daysContainer.children[u],m=r>0?0:h.children.length-1,x=r>0?h.children.length:-1,g=m;g!=x;g+=r){var M=h.children[g];if(M.className.indexOf("hidden")===-1&&Q(M.dateObj))return M}}function Ae(r,i){for(var o=r.className.indexOf("Month")===-1?r.dateObj.getMonth():e.currentMonth,u=i>0?e.config.showMonths:-1,h=i>0?1:-1,m=o-e.currentMonth;m!=u;m+=h)for(var x=e.daysContainer.children[m],g=o-e.currentMonth===m?r.$i+i:i<0?x.children.length-1:0,M=x.children.length,p=g;p>=0&&p<M&&p!=(i>0?M:-1);p+=h){var y=x.children[p];if(y.className.indexOf("hidden")===-1&&Q(y.dateObj)&&Math.abs(r.$i-p)>=Math.abs(i))return ee(y)}e.changeMonth(h),se(te(h),0)}function se(r,i){var o=l(),u=De(o||document.body),h=r!==void 0?r:u?o:e.selectedDateElem!==void 0&&De(e.selectedDateElem)?e.selectedDateElem:e.todayDateElem!==void 0&&De(e.todayDateElem)?e.todayDateElem:te(i>0?1:-1);h===void 0?e._input.focus():u?Ae(h,i):ee(h)}function Et(r,i){for(var o=(new Date(r,i,1).getDay()-e.l10n.firstDayOfWeek+7)%7,u=e.utils.getDaysInMonth((i-1+12)%12,r),h=e.utils.getDaysInMonth(i,r),m=window.document.createDocumentFragment(),x=e.config.showMonths>1,g=x?"prevMonthDay hidden":"prevMonthDay",M=x?"nextMonthDay hidden":"nextMonthDay",p=u+1-o,y=0;p<=u;p++,y++)m.appendChild(U("flatpickr-day "+g,new Date(r,i-1,p),p,y));for(p=1;p<=h;p++,y++)m.appendChild(U("flatpickr-day",new Date(r,i,p),p,y));for(var E=h+1;E<=42-o&&(e.config.showMonths===1||y%7!==0);E++,y++)m.appendChild(U("flatpickr-day "+M,new Date(r,i+1,E%h),E,y));var J=S("div","dayContainer");return J.appendChild(m),J}function be(){if(e.daysContainer!==void 0){ce(e.daysContainer),e.weekNumbers&&ce(e.weekNumbers);for(var r=document.createDocumentFragment(),i=0;i<e.config.showMonths;i++){var o=new Date(e.currentYear,e.currentMonth,1);o.setMonth(e.currentMonth+i),r.appendChild(Et(o.getFullYear(),o.getMonth()))}e.daysContainer.appendChild(r),e.days=e.daysContainer.firstChild,e.config.mode==="range"&&e.selectedDates.length===1&&we()}}function ne(){if(!(e.config.showMonths>1||e.config.monthSelectorType!=="dropdown")){var r=function(u){return e.config.minDate!==void 0&&e.currentYear===e.config.minDate.getFullYear()&&u<e.config.minDate.getMonth()?!1:!(e.config.maxDate!==void 0&&e.currentYear===e.config.maxDate.getFullYear()&&u>e.config.maxDate.getMonth())};e.monthsDropdownContainer.tabIndex=-1,e.monthsDropdownContainer.innerHTML="";for(var i=0;i<12;i++)if(r(i)){var o=S("option","flatpickr-monthDropdown-month");o.value=new Date(e.currentYear,i).getMonth().toString(),o.textContent=fe(i,e.config.shorthandCurrentMonth,e.l10n),o.tabIndex=-1,e.currentMonth===i&&(o.selected=!0),e.monthsDropdownContainer.appendChild(o)}}}function _t(){var r=S("div","flatpickr-month"),i=window.document.createDocumentFragment(),o;e.config.showMonths>1||e.config.monthSelectorType==="static"?o=S("span","cur-month"):(e.monthsDropdownContainer=S("select","flatpickr-monthDropdown-months"),e.monthsDropdownContainer.setAttribute("aria-label",e.l10n.monthAriaLabel),w(e.monthsDropdownContainer,"change",function(x){var g=R(x),M=parseInt(g.value,10);e.changeMonth(M-e.currentMonth),A("onMonthChange")}),ne(),o=e.monthsDropdownContainer);var u=de("cur-year",{tabindex:"-1"}),h=u.getElementsByTagName("input")[0];h.setAttribute("aria-label",e.l10n.yearAriaLabel),e.config.minDate&&h.setAttribute("min",e.config.minDate.getFullYear().toString()),e.config.maxDate&&(h.setAttribute("max",e.config.maxDate.getFullYear().toString()),h.disabled=!!e.config.minDate&&e.config.minDate.getFullYear()===e.config.maxDate.getFullYear());var m=S("div","flatpickr-current-month");return m.appendChild(o),m.appendChild(u),i.appendChild(m),r.appendChild(i),{container:r,yearElement:h,monthElement:o}}function Xe(){ce(e.monthNav),e.monthNav.appendChild(e.prevMonthNav),e.config.showMonths&&(e.yearElements=[],e.monthElements=[]);for(var r=e.config.showMonths;r--;){var i=_t();e.yearElements.push(i.yearElement),e.monthElements.push(i.monthElement),e.monthNav.appendChild(i.container)}e.monthNav.appendChild(e.nextMonthNav)}function Tt(){return e.monthNav=S("div","flatpickr-months"),e.yearElements=[],e.monthElements=[],e.prevMonthNav=S("span","flatpickr-prev-month"),e.prevMonthNav.innerHTML=e.config.prevArrow,e.nextMonthNav=S("span","flatpickr-next-month"),e.nextMonthNav.innerHTML=e.config.nextArrow,Xe(),Object.defineProperty(e,"_hidePrevMonthArrow",{get:function(){return e.__hidePrevMonthArrow},set:function(r){e.__hidePrevMonthArrow!==r&&(L(e.prevMonthNav,"flatpickr-disabled",r),e.__hidePrevMonthArrow=r)}}),Object.defineProperty(e,"_hideNextMonthArrow",{get:function(){return e.__hideNextMonthArrow},set:function(r){e.__hideNextMonthArrow!==r&&(L(e.nextMonthNav,"flatpickr-disabled",r),e.__hideNextMonthArrow=r)}}),e.currentYearElement=e.yearElements[0],Me(),e.monthNav}function It(){e.calendarContainer.classList.add("hasTime"),e.config.noCalendar&&e.calendarContainer.classList.add("noCalendar");var r=Ie(e.config);e.timeContainer=S("div","flatpickr-time"),e.timeContainer.tabIndex=-1;var i=S("span","flatpickr-time-separator",":"),o=de("flatpickr-hour",{"aria-label":e.l10n.hourAriaLabel});e.hourElement=o.getElementsByTagName("input")[0];var u=de("flatpickr-minute",{"aria-label":e.l10n.minuteAriaLabel});if(e.minuteElement=u.getElementsByTagName("input")[0],e.hourElement.tabIndex=e.minuteElement.tabIndex=-1,e.hourElement.value=P(e.latestSelectedDateObj?e.latestSelectedDateObj.getHours():e.config.time_24hr?r.hours:b(r.hours)),e.minuteElement.value=P(e.latestSelectedDateObj?e.latestSelectedDateObj.getMinutes():r.minutes),e.hourElement.setAttribute("step",e.config.hourIncrement.toString()),e.minuteElement.setAttribute("step",e.config.minuteIncrement.toString()),e.hourElement.setAttribute("min",e.config.time_24hr?"0":"1"),e.hourElement.setAttribute("max",e.config.time_24hr?"23":"12"),e.hourElement.setAttribute("maxlength","2"),e.minuteElement.setAttribute("min","0"),e.minuteElement.setAttribute("max","59"),e.minuteElement.setAttribute("maxlength","2"),e.timeContainer.appendChild(o),e.timeContainer.appendChild(i),e.timeContainer.appendChild(u),e.config.time_24hr&&e.timeContainer.classList.add("time24hr"),e.config.enableSeconds){e.timeContainer.classList.add("hasSeconds");var h=de("flatpickr-second");e.secondElement=h.getElementsByTagName("input")[0],e.secondElement.value=P(e.latestSelectedDateObj?e.latestSelectedDateObj.getSeconds():r.seconds),e.secondElement.setAttribute("step",e.minuteElement.getAttribute("step")),e.secondElement.setAttribute("min","0"),e.secondElement.setAttribute("max","59"),e.secondElement.setAttribute("maxlength","2"),e.timeContainer.appendChild(S("span","flatpickr-time-separator",":")),e.timeContainer.appendChild(h)}return e.config.time_24hr||(e.amPM=S("span","flatpickr-am-pm",e.l10n.amPM[Y((e.latestSelectedDateObj?e.hourElement.value:e.config.defaultHour)>11)]),e.amPM.title=e.l10n.toggleTitle,e.amPM.tabIndex=-1,e.timeContainer.appendChild(e.amPM)),e.timeContainer}function et(){e.weekdayContainer?ce(e.weekdayContainer):e.weekdayContainer=S("div","flatpickr-weekdays");for(var r=e.config.showMonths;r--;){var i=S("div","flatpickr-weekdaycontainer");e.weekdayContainer.appendChild(i)}return tt(),e.weekdayContainer}function tt(){if(e.weekdayContainer){var r=e.l10n.firstDayOfWeek,i=gt(e.l10n.weekdays.shorthand);r>0&&r<i.length&&(i=gt(i.splice(r,i.length),i.splice(0,r)));for(var o=e.config.showMonths;o--;)e.weekdayContainer.children[o].innerHTML=`
      <span class='flatpickr-weekday'>
        `+i.join("</span><span class='flatpickr-weekday'>")+`
      </span>
      `}}function At(){e.calendarContainer.classList.add("hasWeeks");var r=S("div","flatpickr-weekwrapper");r.appendChild(S("span","flatpickr-weekday",e.l10n.weekAbbreviation));var i=S("div","flatpickr-weeks");return r.appendChild(i),{weekWrapper:r,weekNumbers:i}}function Fe(r,i){i===void 0&&(i=!0);var o=i?r:r-e.currentMonth;o<0&&e._hidePrevMonthArrow===!0||o>0&&e._hideNextMonthArrow===!0||(e.currentMonth+=o,(e.currentMonth<0||e.currentMonth>11)&&(e.currentYear+=e.currentMonth>11?1:-1,e.currentMonth=(e.currentMonth+12)%12,A("onYearChange"),ne()),be(),A("onMonthChange"),Me())}function Ft(r,i){if(r===void 0&&(r=!0),i===void 0&&(i=!0),e.input.value="",e.altInput!==void 0&&(e.altInput.value=""),e.mobileInput!==void 0&&(e.mobileInput.value=""),e.selectedDates=[],e.latestSelectedDateObj=void 0,i===!0&&(e.currentYear=e._initialDate.getFullYear(),e.currentMonth=e._initialDate.getMonth()),e.config.enableTime===!0){var o=Ie(e.config),u=o.hours,h=o.minutes,m=o.seconds;k(u,h,m)}e.redraw(),r&&A("onChange")}function qt(){e.isOpen=!1,e.isMobile||(e.calendarContainer!==void 0&&e.calendarContainer.classList.remove("open"),e._input!==void 0&&e._input.classList.remove("active")),A("onClose")}function Nt(){e.config!==void 0&&A("onDestroy");for(var r=e._handlers.length;r--;)e._handlers[r].remove();if(e._handlers=[],e.mobileInput)e.mobileInput.parentNode&&e.mobileInput.parentNode.removeChild(e.mobileInput),e.mobileInput=void 0;else if(e.calendarContainer&&e.calendarContainer.parentNode)if(e.config.static&&e.calendarContainer.parentNode){var i=e.calendarContainer.parentNode;if(i.lastChild&&i.removeChild(i.lastChild),i.parentNode){for(;i.firstChild;)i.parentNode.insertBefore(i.firstChild,i);i.parentNode.removeChild(i)}}else e.calendarContainer.parentNode.removeChild(e.calendarContainer);e.altInput&&(e.input.type="text",e.altInput.parentNode&&e.altInput.parentNode.removeChild(e.altInput),delete e.altInput),e.input&&(e.input.type=e.input._type,e.input.classList.remove("flatpickr-input"),e.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(o){try{delete e[o]}catch{}})}function le(r){return e.calendarContainer.contains(r)}function qe(r){if(e.isOpen&&!e.config.inline){var i=R(r),o=le(i),u=i===e.input||i===e.altInput||e.element.contains(i)||r.path&&r.path.indexOf&&(~r.path.indexOf(e.input)||~r.path.indexOf(e.altInput)),h=!u&&!o&&!le(r.relatedTarget),m=!e.config.ignoredFocusElements.some(function(x){return x.contains(i)});h&&m&&(e.config.allowInput&&e.setDate(e._input.value,!1,e.config.altInput?e.config.altFormat:e.config.dateFormat),e.timeContainer!==void 0&&e.minuteElement!==void 0&&e.hourElement!==void 0&&e.input.value!==""&&e.input.value!==void 0&&f(),e.close(),e.config&&e.config.mode==="range"&&e.selectedDates.length===1&&e.clear(!1))}}function ye(r){if(!(!r||e.config.minDate&&r<e.config.minDate.getFullYear()||e.config.maxDate&&r>e.config.maxDate.getFullYear())){var i=r,o=e.currentYear!==i;e.currentYear=i||e.currentYear,e.config.maxDate&&e.currentYear===e.config.maxDate.getFullYear()?e.currentMonth=Math.min(e.config.maxDate.getMonth(),e.currentMonth):e.config.minDate&&e.currentYear===e.config.minDate.getFullYear()&&(e.currentMonth=Math.max(e.config.minDate.getMonth(),e.currentMonth)),o&&(e.redraw(),A("onYearChange"),ne())}}function Q(r,i){var o;i===void 0&&(i=!0);var u=e.parseDate(r,void 0,i);if(e.config.minDate&&u&&j(u,e.config.minDate,i!==void 0?i:!e.minDateHasTime)<0||e.config.maxDate&&u&&j(u,e.config.maxDate,i!==void 0?i:!e.maxDateHasTime)>0)return!1;if(!e.config.enable&&e.config.disable.length===0)return!0;if(u===void 0)return!1;for(var h=!!e.config.enable,m=(o=e.config.enable)!==null&&o!==void 0?o:e.config.disable,x=0,g=void 0;x<m.length;x++){if(g=m[x],typeof g=="function"&&g(u))return h;if(g instanceof Date&&u!==void 0&&g.getTime()===u.getTime())return h;if(typeof g=="string"){var M=e.parseDate(g,void 0,!0);return M&&M.getTime()===u.getTime()?h:!h}else if(typeof g=="object"&&u!==void 0&&g.from&&g.to&&u.getTime()>=g.from.getTime()&&u.getTime()<=g.to.getTime())return h}return!h}function De(r){return e.daysContainer!==void 0?r.className.indexOf("hidden")===-1&&r.className.indexOf("flatpickr-disabled")===-1&&e.daysContainer.contains(r):!1}function Ot(r){var i=r.target===e._input,o=e._input.value.trimEnd()!==Le();i&&o&&!(r.relatedTarget&&le(r.relatedTarget))&&e.setDate(e._input.value,!0,r.target===e.altInput?e.config.altFormat:e.config.dateFormat)}function nt(r){var i=R(r),o=e.config.wrap?t.contains(i):i===e._input,u=e.config.allowInput,h=e.isOpen&&(!u||!o),m=e.config.inline&&o&&!u;if(r.keyCode===13&&o){if(u)return e.setDate(e._input.value,!0,i===e.altInput?e.config.altFormat:e.config.dateFormat),e.close(),i.blur();e.open()}else if(le(i)||h||m){var x=!!e.timeContainer&&e.timeContainer.contains(i);switch(r.keyCode){case 13:x?(r.preventDefault(),f(),Ne()):st(r);break;case 27:r.preventDefault(),Ne();break;case 8:case 46:o&&!e.config.allowInput&&(r.preventDefault(),e.clear());break;case 37:case 39:if(!x&&!o){r.preventDefault();var g=l();if(e.daysContainer!==void 0&&(u===!1||g&&De(g))){var M=r.keyCode===39?1:-1;r.ctrlKey?(r.stopPropagation(),Fe(M),se(te(1),0)):se(void 0,M)}}else e.hourElement&&e.hourElement.focus();break;case 38:case 40:r.preventDefault();var p=r.keyCode===40?1:-1;e.daysContainer&&i.$i!==void 0||i===e.input||i===e.altInput?r.ctrlKey?(r.stopPropagation(),ye(e.currentYear-p),se(te(1),0)):x||se(void 0,p*7):i===e.currentYearElement?ye(e.currentYear-p):e.config.enableTime&&(!x&&e.hourElement&&e.hourElement.focus(),f(r),e._debouncedChange());break;case 9:if(x){var y=[e.hourElement,e.minuteElement,e.secondElement,e.amPM].concat(e.pluginElements).filter(function(z){return z}),E=y.indexOf(i);if(E!==-1){var J=y[E+(r.shiftKey?-1:1)];r.preventDefault(),(J||e._input).focus()}}else!e.config.noCalendar&&e.daysContainer&&e.daysContainer.contains(i)&&r.shiftKey&&(r.preventDefault(),e._input.focus());break;default:break}}if(e.amPM!==void 0&&i===e.amPM)switch(r.key){case e.l10n.amPM[0].charAt(0):case e.l10n.amPM[0].charAt(0).toLowerCase():e.amPM.textContent=e.l10n.amPM[0],C(),G();break;case e.l10n.amPM[1].charAt(0):case e.l10n.amPM[1].charAt(0).toLowerCase():e.amPM.textContent=e.l10n.amPM[1],C(),G();break}(o||le(i))&&A("onKeyDown",r)}function we(r,i){if(i===void 0&&(i="flatpickr-day"),!(e.selectedDates.length!==1||r&&(!r.classList.contains(i)||r.classList.contains("flatpickr-disabled")))){for(var o=r?r.dateObj.getTime():e.days.firstElementChild.dateObj.getTime(),u=e.parseDate(e.selectedDates[0],void 0,!0).getTime(),h=Math.min(o,e.selectedDates[0].getTime()),m=Math.max(o,e.selectedDates[0].getTime()),x=!1,g=0,M=0,p=h;p<m;p+=pt.DAY)Q(new Date(p),!0)||(x=x||p>h&&p<m,p<u&&(!g||p>g)?g=p:p>u&&(!M||p<M)&&(M=p));var y=Array.from(e.rContainer.querySelectorAll("*:nth-child(-n+"+e.config.showMonths+") > ."+i));y.forEach(function(E){var J=E.dateObj,z=J.getTime(),ue=g>0&&z<g||M>0&&z>M;if(ue){E.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(re){E.classList.remove(re)});return}else if(x&&!ue)return;["startRange","inRange","endRange","notAllowed"].forEach(function(re){E.classList.remove(re)}),r!==void 0&&(r.classList.add(o<=e.selectedDates[0].getTime()?"startRange":"endRange"),u<o&&z===u?E.classList.add("startRange"):u>o&&z===u&&E.classList.add("endRange"),z>=g&&(M===0||z<=M)&&ht(z,u,o)&&E.classList.add("inRange"))})}}function Pt(){e.isOpen&&!e.config.static&&!e.config.inline&&Ce()}function Lt(r,i){if(i===void 0&&(i=e._positionElement),e.isMobile===!0){if(r){r.preventDefault();var o=R(r);o&&o.blur()}e.mobileInput!==void 0&&(e.mobileInput.focus(),e.mobileInput.click()),A("onOpen");return}else if(e._input.disabled||e.config.inline)return;var u=e.isOpen;e.isOpen=!0,u||(e.calendarContainer.classList.add("open"),e._input.classList.add("active"),A("onOpen"),Ce(i)),e.config.enableTime===!0&&e.config.noCalendar===!0&&e.config.allowInput===!1&&(r===void 0||!e.timeContainer.contains(r.relatedTarget))&&setTimeout(function(){return e.hourElement.select()},50)}function rt(r){return function(i){var o=e.config["_"+r+"Date"]=e.parseDate(i,e.config.dateFormat),u=e.config["_"+(r==="min"?"max":"min")+"Date"];o!==void 0&&(e[r==="min"?"minDateHasTime":"maxDateHasTime"]=o.getHours()>0||o.getMinutes()>0||o.getSeconds()>0),e.selectedDates&&(e.selectedDates=e.selectedDates.filter(function(h){return Q(h)}),!e.selectedDates.length&&r==="min"&&D(o),G()),e.daysContainer&&(ot(),o!==void 0?e.currentYearElement[r]=o.getFullYear().toString():e.currentYearElement.removeAttribute(r),e.currentYearElement.disabled=!!u&&o!==void 0&&u.getFullYear()===o.getFullYear())}}function Ht(){var r=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],i=H(H({},JSON.parse(JSON.stringify(t.dataset||{}))),n),o={};e.config.parseDate=i.parseDate,e.config.formatDate=i.formatDate,Object.defineProperty(e.config,"enable",{get:function(){return e.config._enable},set:function(y){e.config._enable=ut(y)}}),Object.defineProperty(e.config,"disable",{get:function(){return e.config._disable},set:function(y){e.config._disable=ut(y)}});var u=i.mode==="time";if(!i.dateFormat&&(i.enableTime||u)){var h=N.defaultConfig.dateFormat||V.dateFormat;o.dateFormat=i.noCalendar||u?"H:i"+(i.enableSeconds?":S":""):h+" H:i"+(i.enableSeconds?":S":"")}if(i.altInput&&(i.enableTime||u)&&!i.altFormat){var m=N.defaultConfig.altFormat||V.altFormat;o.altFormat=i.noCalendar||u?"h:i"+(i.enableSeconds?":S K":" K"):m+(" h:i"+(i.enableSeconds?":S":"")+" K")}Object.defineProperty(e.config,"minDate",{get:function(){return e.config._minDate},set:rt("min")}),Object.defineProperty(e.config,"maxDate",{get:function(){return e.config._maxDate},set:rt("max")});var x=function(y){return function(E){e.config[y==="min"?"_minTime":"_maxTime"]=e.parseDate(E,"H:i:S")}};Object.defineProperty(e.config,"minTime",{get:function(){return e.config._minTime},set:x("min")}),Object.defineProperty(e.config,"maxTime",{get:function(){return e.config._maxTime},set:x("max")}),i.mode==="time"&&(e.config.noCalendar=!0,e.config.enableTime=!0),Object.assign(e.config,o,i);for(var g=0;g<r.length;g++)e.config[r[g]]=e.config[r[g]]===!0||e.config[r[g]]==="true";ke.filter(function(y){return e.config[y]!==void 0}).forEach(function(y){e.config[y]=Ee(e.config[y]||[]).map(c)}),e.isMobile=!e.config.disableMobile&&!e.config.inline&&e.config.mode==="single"&&!e.config.disable.length&&!e.config.enable&&!e.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var g=0;g<e.config.plugins.length;g++){var M=e.config.plugins[g](e)||{};for(var p in M)ke.indexOf(p)>-1?e.config[p]=Ee(M[p]).map(c).concat(e.config[p]):typeof i[p]=="undefined"&&(e.config[p]=M[p])}i.altInputClass||(e.config.altInputClass=it().className+" "+e.config.altInputClass),A("onParseConfig")}function it(){return e.config.wrap?t.querySelector("[data-input]"):t}function at(){typeof e.config.locale!="object"&&typeof N.l10ns[e.config.locale]=="undefined"&&e.config.errorHandler(new Error("flatpickr: invalid locale "+e.config.locale)),e.l10n=H(H({},N.l10ns.default),typeof e.config.locale=="object"?e.config.locale:e.config.locale!=="default"?N.l10ns[e.config.locale]:void 0),K.D="("+e.l10n.weekdays.shorthand.join("|")+")",K.l="("+e.l10n.weekdays.longhand.join("|")+")",K.M="("+e.l10n.months.shorthand.join("|")+")",K.F="("+e.l10n.months.longhand.join("|")+")",K.K="("+e.l10n.amPM[0]+"|"+e.l10n.amPM[1]+"|"+e.l10n.amPM[0].toLowerCase()+"|"+e.l10n.amPM[1].toLowerCase()+")";var r=H(H({},n),JSON.parse(JSON.stringify(t.dataset||{})));r.time_24hr===void 0&&N.defaultConfig.time_24hr===void 0&&(e.config.time_24hr=e.l10n.time_24hr),e.formatDate=Be(e),e.parseDate=_e({config:e.config,l10n:e.l10n})}function Ce(r){if(typeof e.config.position=="function")return void e.config.position(e,r);if(e.calendarContainer!==void 0){A("onPreCalendarPosition");var i=r||e._positionElement,o=Array.prototype.reduce.call(e.calendarContainer.children,function(an,on){return an+on.offsetHeight},0),u=e.calendarContainer.offsetWidth,h=e.config.position.split(" "),m=h[0],x=h.length>1?h[1]:null,g=i.getBoundingClientRect(),M=window.innerHeight-g.bottom,p=m==="above"||m!=="below"&&M<o&&g.top>o,y=window.pageYOffset+g.top+(p?-o-2:i.offsetHeight+2);if(L(e.calendarContainer,"arrowTop",!p),L(e.calendarContainer,"arrowBottom",p),!e.config.inline){var E=window.pageXOffset+g.left,J=!1,z=!1;x==="center"?(E-=(u-g.width)/2,J=!0):x==="right"&&(E-=u-g.width,z=!0),L(e.calendarContainer,"arrowLeft",!J&&!z),L(e.calendarContainer,"arrowCenter",J),L(e.calendarContainer,"arrowRight",z);var ue=window.document.body.offsetWidth-(window.pageXOffset+g.right),re=E+u>window.document.body.offsetWidth,Zt=ue+u>window.document.body.offsetWidth;if(L(e.calendarContainer,"rightMost",re),!e.config.static)if(e.calendarContainer.style.top=y+"px",!re)e.calendarContainer.style.left=E+"px",e.calendarContainer.style.right="auto";else if(!Zt)e.calendarContainer.style.left="auto",e.calendarContainer.style.right=ue+"px";else{var He=Yt();if(He===void 0)return;var Qt=window.document.body.offsetWidth,Xt=Math.max(0,Qt/2-u/2),en=".flatpickr-calendar.centerMost:before",tn=".flatpickr-calendar.centerMost:after",nn=He.cssRules.length,rn="{left:"+g.left+"px;right:auto;}";L(e.calendarContainer,"rightMost",!1),L(e.calendarContainer,"centerMost",!0),He.insertRule(en+","+tn+rn,nn),e.calendarContainer.style.left=Xt+"px",e.calendarContainer.style.right="auto"}}}}function Yt(){for(var r=null,i=0;i<document.styleSheets.length;i++){var o=document.styleSheets[i];if(o.cssRules){try{o.cssRules}catch{continue}r=o;break}}return r!=null?r:Rt()}function Rt(){var r=document.createElement("style");return document.head.appendChild(r),r.sheet}function ot(){e.config.noCalendar||e.isMobile||(ne(),Me(),be())}function Ne(){e._input.focus(),window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==void 0?setTimeout(e.close,0):e.close()}function st(r){r.preventDefault(),r.stopPropagation();var i=function(y){return y.classList&&y.classList.contains("flatpickr-day")&&!y.classList.contains("flatpickr-disabled")&&!y.classList.contains("notAllowed")},o=Re(R(r),i);if(o!==void 0){var u=o,h=e.latestSelectedDateObj=new Date(u.dateObj.getTime()),m=(h.getMonth()<e.currentMonth||h.getMonth()>e.currentMonth+e.config.showMonths-1)&&e.config.mode!=="range";if(e.selectedDateElem=u,e.config.mode==="single")e.selectedDates=[h];else if(e.config.mode==="multiple"){var x=Pe(h);x?e.selectedDates.splice(parseInt(x),1):e.selectedDates.push(h)}else e.config.mode==="range"&&(e.selectedDates.length===2&&e.clear(!1,!1),e.latestSelectedDateObj=h,e.selectedDates.push(h),j(h,e.selectedDates[0],!0)!==0&&e.selectedDates.sort(function(y,E){return y.getTime()-E.getTime()}));if(C(),m){var g=e.currentYear!==h.getFullYear();e.currentYear=h.getFullYear(),e.currentMonth=h.getMonth(),g&&(A("onYearChange"),ne()),A("onMonthChange")}if(Me(),be(),G(),!m&&e.config.mode!=="range"&&e.config.showMonths===1?ee(u):e.selectedDateElem!==void 0&&e.hourElement===void 0&&e.selectedDateElem&&e.selectedDateElem.focus(),e.hourElement!==void 0&&e.hourElement!==void 0&&e.hourElement.focus(),e.config.closeOnSelect){var M=e.config.mode==="single"&&!e.config.enableTime,p=e.config.mode==="range"&&e.selectedDates.length===2&&!e.config.enableTime;(M||p)&&Ne()}q()}}var xe={locale:[at,tt],showMonths:[Xe,d,et],minDate:[_],maxDate:[_],positionElement:[ct],clickOpens:[function(){e.config.clickOpens===!0?(w(e._input,"focus",e.open),w(e._input,"click",e.open)):(e._input.removeEventListener("focus",e.open),e._input.removeEventListener("click",e.open))}]};function jt(r,i){if(r!==null&&typeof r=="object"){Object.assign(e.config,r);for(var o in r)xe[o]!==void 0&&xe[o].forEach(function(u){return u()})}else e.config[r]=i,xe[r]!==void 0?xe[r].forEach(function(u){return u()}):ke.indexOf(r)>-1&&(e.config[r]=Ee(i));e.redraw(),G(!0)}function lt(r,i){var o=[];if(r instanceof Array)o=r.map(function(u){return e.parseDate(u,i)});else if(r instanceof Date||typeof r=="number")o=[e.parseDate(r,i)];else if(typeof r=="string")switch(e.config.mode){case"single":case"time":o=[e.parseDate(r,i)];break;case"multiple":o=r.split(e.config.conjunction).map(function(u){return e.parseDate(u,i)});break;case"range":o=r.split(e.l10n.rangeSeparator).map(function(u){return e.parseDate(u,i)});break;default:break}else e.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(r)));e.selectedDates=e.config.allowInvalidPreload?o:o.filter(function(u){return u instanceof Date&&Q(u,!1)}),e.config.mode==="range"&&e.selectedDates.sort(function(u,h){return u.getTime()-h.getTime()})}function Bt(r,i,o){if(i===void 0&&(i=!1),o===void 0&&(o=e.config.dateFormat),r!==0&&!r||r instanceof Array&&r.length===0)return e.clear(i);lt(r,o),e.latestSelectedDateObj=e.selectedDates[e.selectedDates.length-1],e.redraw(),_(void 0,i),D(),e.selectedDates.length===0&&e.clear(!1),G(i),i&&A("onChange")}function ut(r){return r.slice().map(function(i){return typeof i=="string"||typeof i=="number"||i instanceof Date?e.parseDate(i,void 0,!0):i&&typeof i=="object"&&i.from&&i.to?{from:e.parseDate(i.from,void 0),to:e.parseDate(i.to,void 0)}:i}).filter(function(i){return i})}function zt(){e.selectedDates=[],e.now=e.parseDate(e.config.now)||new Date;var r=e.config.defaultDate||((e.input.nodeName==="INPUT"||e.input.nodeName==="TEXTAREA")&&e.input.placeholder&&e.input.value===e.input.placeholder?null:e.input.value);r&&lt(r,e.config.dateFormat),e._initialDate=e.selectedDates.length>0?e.selectedDates[0]:e.config.minDate&&e.config.minDate.getTime()>e.now.getTime()?e.config.minDate:e.config.maxDate&&e.config.maxDate.getTime()<e.now.getTime()?e.config.maxDate:e.now,e.currentYear=e._initialDate.getFullYear(),e.currentMonth=e._initialDate.getMonth(),e.selectedDates.length>0&&(e.latestSelectedDateObj=e.selectedDates[0]),e.config.minTime!==void 0&&(e.config.minTime=e.parseDate(e.config.minTime,"H:i")),e.config.maxTime!==void 0&&(e.config.maxTime=e.parseDate(e.config.maxTime,"H:i")),e.minDateHasTime=!!e.config.minDate&&(e.config.minDate.getHours()>0||e.config.minDate.getMinutes()>0||e.config.minDate.getSeconds()>0),e.maxDateHasTime=!!e.config.maxDate&&(e.config.maxDate.getHours()>0||e.config.maxDate.getMinutes()>0||e.config.maxDate.getSeconds()>0)}function Wt(){if(e.input=it(),!e.input){e.config.errorHandler(new Error("Invalid input element specified"));return}e.input._type=e.input.type,e.input.type="text",e.input.classList.add("flatpickr-input"),e._input=e.input,e.config.altInput&&(e.altInput=S(e.input.nodeName,e.config.altInputClass),e._input=e.altInput,e.altInput.placeholder=e.input.placeholder,e.altInput.disabled=e.input.disabled,e.altInput.required=e.input.required,e.altInput.tabIndex=e.input.tabIndex,e.altInput.type="text",e.input.setAttribute("type","hidden"),!e.config.static&&e.input.parentNode&&e.input.parentNode.insertBefore(e.altInput,e.input.nextSibling)),e.config.allowInput||e._input.setAttribute("readonly","readonly"),ct()}function ct(){e._positionElement=e.config.positionElement||e._input}function Ut(){var r=e.config.enableTime?e.config.noCalendar?"time":"datetime-local":"date";e.mobileInput=S("input",e.input.className+" flatpickr-mobile"),e.mobileInput.tabIndex=1,e.mobileInput.type=r,e.mobileInput.disabled=e.input.disabled,e.mobileInput.required=e.input.required,e.mobileInput.placeholder=e.input.placeholder,e.mobileFormatStr=r==="datetime-local"?"Y-m-d\\TH:i:S":r==="date"?"Y-m-d":"H:i:S",e.selectedDates.length>0&&(e.mobileInput.defaultValue=e.mobileInput.value=e.formatDate(e.selectedDates[0],e.mobileFormatStr)),e.config.minDate&&(e.mobileInput.min=e.formatDate(e.config.minDate,"Y-m-d")),e.config.maxDate&&(e.mobileInput.max=e.formatDate(e.config.maxDate,"Y-m-d")),e.input.getAttribute("step")&&(e.mobileInput.step=String(e.input.getAttribute("step"))),e.input.type="hidden",e.altInput!==void 0&&(e.altInput.type="hidden");try{e.input.parentNode&&e.input.parentNode.insertBefore(e.mobileInput,e.input.nextSibling)}catch{}w(e.mobileInput,"change",function(i){e.setDate(R(i).value,!1,e.mobileFormatStr),A("onChange"),A("onClose")})}function Jt(r){if(e.isOpen===!0)return e.close();e.open(r)}function A(r,i){if(e.config!==void 0){var o=e.config[r];if(o!==void 0&&o.length>0)for(var u=0;o[u]&&u<o.length;u++)o[u](e.selectedDates,e.input.value,e,i);r==="onChange"&&(e.input.dispatchEvent(Oe("change")),e.input.dispatchEvent(Oe("input")))}}function Oe(r){var i=document.createEvent("Event");return i.initEvent(r,!0,!0),i}function Pe(r){for(var i=0;i<e.selectedDates.length;i++){var o=e.selectedDates[i];if(o instanceof Date&&j(o,r)===0)return""+i}return!1}function Gt(r){return e.config.mode!=="range"||e.selectedDates.length<2?!1:j(r,e.selectedDates[0])>=0&&j(r,e.selectedDates[1])<=0}function Me(){e.config.noCalendar||e.isMobile||!e.monthNav||(e.yearElements.forEach(function(r,i){var o=new Date(e.currentYear,e.currentMonth,1);o.setMonth(e.currentMonth+i),e.config.showMonths>1||e.config.monthSelectorType==="static"?e.monthElements[i].textContent=fe(o.getMonth(),e.config.shorthandCurrentMonth,e.l10n)+" ":e.monthsDropdownContainer.value=o.getMonth().toString(),r.value=o.getFullYear().toString()}),e._hidePrevMonthArrow=e.config.minDate!==void 0&&(e.currentYear===e.config.minDate.getFullYear()?e.currentMonth<=e.config.minDate.getMonth():e.currentYear<e.config.minDate.getFullYear()),e._hideNextMonthArrow=e.config.maxDate!==void 0&&(e.currentYear===e.config.maxDate.getFullYear()?e.currentMonth+1>e.config.maxDate.getMonth():e.currentYear>e.config.maxDate.getFullYear()))}function Le(r){var i=r||(e.config.altInput?e.config.altFormat:e.config.dateFormat);return e.selectedDates.map(function(o){return e.formatDate(o,i)}).filter(function(o,u,h){return e.config.mode!=="range"||e.config.enableTime||h.indexOf(o)===u}).join(e.config.mode!=="range"?e.config.conjunction:e.l10n.rangeSeparator)}function G(r){r===void 0&&(r=!0),e.mobileInput!==void 0&&e.mobileFormatStr&&(e.mobileInput.value=e.latestSelectedDateObj!==void 0?e.formatDate(e.latestSelectedDateObj,e.mobileFormatStr):""),e.input.value=Le(e.config.dateFormat),e.altInput!==void 0&&(e.altInput.value=Le(e.config.altFormat)),r!==!1&&A("onValueUpdate")}function Kt(r){var i=R(r),o=e.prevMonthNav.contains(i),u=e.nextMonthNav.contains(i);o||u?Fe(o?-1:1):e.yearElements.indexOf(i)>=0?i.select():i.classList.contains("arrowUp")?e.changeYear(e.currentYear+1):i.classList.contains("arrowDown")&&e.changeYear(e.currentYear-1)}function Vt(r){r.preventDefault();var i=r.type==="keydown",o=R(r),u=o;e.amPM!==void 0&&o===e.amPM&&(e.amPM.textContent=e.l10n.amPM[Y(e.amPM.textContent===e.l10n.amPM[0])]);var h=parseFloat(u.getAttribute("min")),m=parseFloat(u.getAttribute("max")),x=parseFloat(u.getAttribute("step")),g=parseInt(u.value,10),M=r.delta||(i?r.which===38?1:-1:0),p=g+x*M;if(typeof u.value!="undefined"&&u.value.length===2){var y=u===e.hourElement,E=u===e.minuteElement;p<h?(p=m+p+Y(!y)+(Y(y)&&Y(!e.amPM)),E&&B(void 0,-1,e.hourElement)):p>m&&(p=u===e.hourElement?p-m-Y(!e.amPM):h,E&&B(void 0,1,e.hourElement)),e.amPM&&y&&(x===1?p+g===23:Math.abs(p-g)>x)&&(e.amPM.textContent=e.l10n.amPM[Y(e.amPM.textContent===e.l10n.amPM[0])]),u.value=P(p)}}return s(),e}function ae(t,n){for(var e=Array.prototype.slice.call(t).filter(function(c){return c instanceof HTMLElement}),a=[],s=0;s<e.length;s++){var l=e[s];try{if(l.getAttribute("data-fp-omit")!==null)continue;l._flatpickr!==void 0&&(l._flatpickr.destroy(),l._flatpickr=void 0),l._flatpickr=gn(l,n||{}),a.push(l._flatpickr)}catch(c){console.error(c)}}return a.length===1?a[0]:a}typeof HTMLElement!="undefined"&&typeof HTMLCollection!="undefined"&&typeof NodeList!="undefined"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(t){return ae(this,t)},HTMLElement.prototype.flatpickr=function(t){return ae([this],t)});var N=function(t,n){return typeof t=="string"?ae(window.document.querySelectorAll(t),n):t instanceof Node?ae([t],n):ae(t,n)};N.defaultConfig={};N.l10ns={en:H({},Se),default:H({},Se)};N.localize=function(t){N.l10ns.default=H(H({},N.l10ns.default),t)};N.setDefaults=function(t){N.defaultConfig=H(H({},N.defaultConfig),t)};N.parseDate=_e({});N.formatDate=Be({});N.compareDates=j;typeof jQuery!="undefined"&&typeof jQuery.fn!="undefined"&&(jQuery.fn.flatpickr=function(t){return ae(this,t)});Date.prototype.fp_incr=function(t){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof t=="string"?parseInt(t,10):t))};typeof window!="undefined"&&(window.flatpickr=N);var Un=mn(bt(),1);var We=t=>{for(var n in t)if(t.hasOwnProperty(n))return!1;return!0};var Dt=t=>{var n=0;for(var e in t)t.hasOwnProperty(e)&&++n;return n},oe=t=>!Array.isArray(t)||!t.length,he=t=>t instanceof Date&&Object.prototype.toString.call(t)==="[object Date]"&&!isNaN(t.getTime()),vn=t=>(t<10&&(t="0"+t),t);var me=(t,n)=>{var e=new Date(t),a=e.getFullYear(),s=vn(e.getMonth()+1),l=e.getDate();return n?a+""+s+l:a+"-"+s+"-"+l};var wt=(t,n,e)=>(t.splice(e,0,t.splice(n,1)[0]),t),Ue=t=>!!(t.prop("checked")===!0||t.is(":checked"));var T=()=>localStorage.getItem("enquiry")?JSON.parse(localStorage.getItem("enquiry")):(localStorage.setItem("enquiry",JSON.stringify(yt)),yt);var W=(t,n)=>{let e=T();e[t]=n,localStorage.setItem("enquiry",JSON.stringify(e))},pe=t=>new Date(t.setHours(0,0,0,0)),Je=pe(new Date);var Ge={adults:1,children:[],doubleBeds:0,singleBeds:0,cots:0},yt={activity:2,arrivalDate:!1,departureDate:!1,rooms:[Ge],airportTransfer:!1,mountainGuiding:!1,heliskiing:!1,skiPasses:!1,equipmentRental:!1,skiSchool:!1,client:{title:"",forename:"",surname:"",email:"",phone:""},comments:"",howHear:"",suppliers:{},whatsApp:!1},Ke=t=>t.replace(/(?:^\w|[A-Z]|\b\w)/g,function(n,e){return e==0?n.toLowerCase():n.toUpperCase()}).replace(/\s+/g,""),Ct=(t,n,e)=>'<div id="'+n+'" class="message_component is-'+t+'"><div class="message_text">'+e+"</div></div>";var xt=()=>{let t=Object.keys(T().suppliers).length,n=$("#enquiryCount");t>0?n.text("Complete Enquiry ("+t+")"):n.text("Make an Enquiry")};var St=()=>{let t=T().arrivalDate;if(he(t)){let n=new Date(t).getTime();console.log("arrivalDate",n);let e=new Date(Je).getTime();return n<e}return!1};console.log("Arrival date is in the past?",St());St()&&Ze(!1,!1);function Ze(t,n){console.log("Doing something..."),console.log(t+" "+n);let e=he(new Date(t))?me(t):!1,a=he(new Date(n))?me(n):!1;W("arrivalDate",e),W("departureDate",a)}var Mt=t=>he(new Date(t))?new Date(t):!1,ge=flatpickr("#flatpickr",{mode:"range",minDate:Je,altFormat:"D, J M",dateFormat:"Y-m-d",showMonths:$(window).width()>600?2:1,disableMobile:!0,defaultDate:[Mt(T().arrivalDate),Mt(T().departureDate)],locale:{rangeSeparator:" - "},altInput:!0,wrap:!0,onOpen:function(t,n,e){},onClose:function(t,n,e){if(console.log("Flatpickr closed"),typeof t[0]!="undefined"&&typeof t[1]=="undefined"){console.log("selectedDates[0]",t[0]);let a=pe(new Date(t[0])),s=new Date(a);s.setDate(s.getDate()+1),console.log("nextDay",s),W("departureDate",me(s)),ge.setDate([t[0],new Date(T().departureDate)]),e.setDate([t[0],s])}},onChange:function(t,n,e){if(console.log("Flatpickr changed"),t[0]){console.log("Arrival date selected",t[0]),$("#flatpickr-wrapper").removeClass("is-error"),$("#flatpickr-error").remove();let a=pe(new Date(t[0])),s=new Date(a);if(s.setDate(s.getDate()+1),Ze(a,s),t[1]){console.log("Departure date selected",t[1]);let l=t[1].toDateString()===t[0].toDateString()?s:pe(new Date(t[1]));W("departureDate",me(l)),ge.setDate([a,l])}else console.log("Departure date empty. Keep 1 day after check-in date.")}else console.log("Pressed the clear button"),ge.setDate([!1,!1]),Ze(!1,!1)}}),bn=()=>{let t=T().rooms,n=t.length,e=Ge;e.adults=0,t[n]=e,W("rooms",t),Qe()};$("#add-room").on("click",function(){bn()});var kt=t=>{$(t).on("change",function(){let n=$(this),e=Number(n.attr("data-room")),a=Number(n.attr("data-child")),s=T(),l=s.rooms[e].children;l[a]=Number(n.find(":selected").text()),s.rooms[e].children=l,localStorage.setItem("enquiry",JSON.stringify(s)),ve()})},Ve=()=>{let t=T().rooms,n=0,e=0;for(let s in t){n+=t[s].adults;let l=t[s].children,c=oe(l)===!1,d=$("#room-"+s);if(c){d.find(".is-cots").show();for(let f in l)e+=1}else d.find(".is-cots").hide(),d.find(".children-ages_selectors").remove()}let a=n+e;$("#guest-count").text(a)},ve=()=>{let t=T().rooms;for(let n in t){let e=t[n].adults,a=0,s=0,l=t[n].children;if(oe(l)===!1){e+=t[n].children.length;for(let C in l)l[C]>3?a+=1:s+=1}console.log("totalChildrenOverThreeYrsOld",a);let d=t[n].doubleBeds+t[n].singleBeds+t[n].cots,f=t[n].doubleBeds*2+t[n].singleBeds+t[n].cots;console.log("totalBedSpacesSelected",f);let v=t[n].adults+a+s;console.log("minBedSpacesRequired",v);let b=$("#room-"+n).find(".is-beds .enquiry-form_input-group_wrapper");if(e===d||f>=v&&d<=e)b.removeClass("is-warning is-error"),b.find("#error-beds").remove();else{let C,D;d===0?(C="Please select at least one bed",D="error"):f>v?(C="You may have too many beds",D="warning"):(C="You may not have enough beds",D="warning"),b.removeClass("is-error is-warning").addClass("is-"+D),b.find("#error-beds").remove(),b.append(Ct(D,"error-beds",C))}}},yn=(t,n,e)=>{let a="room-"+t+"-child-"+n,s=()=>{let l=[{text:"Under 1",value:0},{text:"1",value:1},{text:"2",value:2},{text:"3",value:3},{text:"4",value:4},{text:"5",value:5},{text:"6",value:6},{text:"7",value:7},{text:"8",value:8},{text:"9",value:9},{text:"10",value:10},{text:"11",value:11},{text:"12",value:12},{text:"13",value:13},{text:"14",value:14},{text:"15",value:15},{text:"16",value:16},{text:"17",value:17}],c="";return $.each(l,function(d,f){let v=f.value===e?" selected":"";c+='<option value="'+f.text+'"'+v+">"+f.text+"</option>"}),c};return'<div class="children-ages_input-select_component"><div class="children-ages_input-select_wrapper"><div class="children-ages_input-select_header"><label for="'+a+'" class="children-ages_label">Child '+(Number(n)+1)+' age</label></div><select id="'+a+'" name="'+a+'" data-name="'+a+'" value="'+e+'" data-room="'+t+'" data-child="'+n+'" required="" class="enquiry-form_select is-child-age w-select">'+s()+"</select></div></div>"},$t=(t,n)=>{let e="";if(oe(n)===!1){let a="";for(let s=0;s<n.length;s++){let l=n[s];a+=yn(t,s,l)}e+='<div class="children-ages_selectors">'+a+"</div>"}return e},Qe=()=>{$(".enquiry-form_room-group").empty();let t=T().rooms;if(oe(t)===!1){let l=function(d){let f=T().rooms,v=Number(d.slice(5)),b=f.length;wt(f,v,b).join(","),f.pop(),W("rooms",f);let C=$("#"+d);C.addClass("removing"),setTimeout(function(){C.remove(),Qe()},200)},c=function(d,f,v){let b=T(),C=b.rooms;for(let D in C)if(D=Number(D),D===d){if(f==="children"){console.log("children");break}C[D][f]=v;break}b.rooms=C,localStorage.setItem("enquiry",JSON.stringify(b))};var e=l,a=c;let s=0;for(let d=0;d<t.length;d++){s+=1;let f=t[d],v=d<1&&t.length===1?"":'<div class="enquiry-form_remove-room"><div class="enquiry-form_remove-room-button" data-id="room-'+d+'"><div class="icon-1x1-small w-embed"><svg aria-hidden="true" fill="currentColor" role="img" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg"><title>Cross</title><path d="M18,1.81l-1.81-1.81-7.19,7.19L1.81,0,0,1.81l7.19,7.19L0,16.19l1.81,1.81,7.19-7.19,7.19,7.19,1.81-1.81-7.19-7.19L18,1.81Z"></path></svg></div></div></div>';$(".enquiry-form_room-group").append('<div id="room-'+d+'" class="enquiry-form_room" tabindex="-1"><div class="enquiry-form_room-header"><h3 class="enquiry-form_room-title">Bedroom '+(d+1)+"</h3>"+v+'</div><div class="enquiry-form_row"></div></div>');let b=[{title:"Guests",inputGroups:[{primaryLabel:"Adults",secondaryLabel:"",qty:f.adults,class:""},{primaryLabel:"Children",secondaryLabel:"(0-17yrs)",qty:oe(f.children)===!0?0:f.children.length,class:""}],childrensAges:"children-ages_selectors"},{title:"Beds",inputGroups:[{primaryLabel:"Double beds",secondaryLabel:"",qty:f.doubleBeds,class:""},{primaryLabel:"Single beds",secondaryLabel:"",qty:f.singleBeds,class:""},{primaryLabel:"Cots",secondaryLabel:"",qty:f.cots,class:"is-cots"}]}];if(d<1&&b[d].inputGroups[0].qty<1){b[d].inputGroups[0].qty=1;let D=T().rooms;D[d].adults=1,W("rooms",D)}let C=(D,k,F,w,q)=>{let O="room-"+D+"-"+k.toLowerCase(),_=k==="Adults"&&w<2&&D===0||w<1?" is-disabled":"";return'<div class="input-counter_component'+(q?" "+q:"")+'"><div class="input-counter_wrapper"><div class="input-counter_header"><label for="'+O+'" class="input-counter_label"><span class="input-counter_label-primary">'+k+'</span><span class="input-counter_label-secondary">'+F+'</span></label></div><div class="input-counter_button-group"><a class="input-counter_button decrease'+_+'" data-name="'+Ke(k)+'" data-index="'+D+'"><div class="icon-1x1-small w-embed"><svg aria-hidden="true" fill="currentColor" role="img" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><title>Minus</title><path d="m464 256c0 17.7-14.3 32-32 32h-352c-17.7 0-32-14.3-32-32s14.3-32 32-32h352c17.7 0 32 14.3 32 32z"></path></svg></div></a><div class="input-counter_input-group"><input type="number" class="input-counter_input w-input" maxlength="256" name="'+O+'" data-name="'+O+'" placeholder="" id="'+O+'" value="'+w+'" required><div class="input-counter_counter">'+w+'</div></div><a class="input-counter_button increase" data-name="'+Ke(k)+'" data-index="'+D+'"><div class="icon-1x1-small w-embed"><svg aria-hidden="true" fill="currentColor" role="img" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><title>Plus</title><path d="m288 80c0-17.7-14.3-32-32-32s-32 14.3-32 32v144h-144c-17.7 0-32 14.3-32 32s14.3 32 32 32h144v144c0 17.7 14.3 32 32 32s32-14.3 32-32v-144h144c17.7 0 32-14.3 32-32s-14.3-32-32-32h-144z"></path></svg></div></a></div></div></div>'};for(let D=0;D<b.length;D++){let k=b[D],F="";for(let _=0;_<k.inputGroups.length;_++){let I=k.inputGroups[_];F+=C(d,I.primaryLabel,I.secondaryLabel,I.qty,I.class)}let w="",q=We(k.childrensAges)===!1;if(q&&(w=$t(d,f.children)),$("#room-"+d).find(".enquiry-form_row").eq(0).append('<div class="enquiry-form_column is-'+k.title.toLowerCase()+'"><div class="enquiry-form_input-group_wrapper"><div class="enquiry-form_input-group_title">'+k.title+'</div><div class="enquiry-form_input-group_inputs">'+F+w+"</div></div></div>"),q)for(let _=0;_<f.children.length;_++){let I="#room-"+d+"-child-"+_;kt(I)}}}Ve(),ve(),$(".enquiry-form_remove-room-button").on("click",function(d){if(d.preventDefault(),confirm("Please confirm you would like to remove this room from your enquiry.")){var f=$(this).attr("data-id");l(f)}}),$(".input-counter_button.increase").on("click",function(d){d.preventDefault();var f=$(this),v=f.attr("data-name"),b=f.closest(".input-counter_button-group"),C=f.siblings(".input-counter_input-group"),D=C.find(".input-counter_input"),k=C.find(".input-counter_counter"),F=Number(f.attr("data-index")),w=Number(D.val());if(w>=(v==="adults"&&F===0?1:0)&&b.find(".decrease").prop("disabled",!1).removeAttr("disabled").removeClass("is-disabled"),w<99){var O=+w+1;if(D.val(O),k.text(O),v==="children"){let _=T(),I=_.rooms[F].children;I.push(0),_.rooms[F].children=I,localStorage.setItem("enquiry",JSON.stringify(_));let B=$("#room-"+F);B.find(".children-ages_selectors").remove(),B.find(".enquiry-form_input-group_inputs").eq(0).append('<div class="children-ages_selectors">'+$t(F,I)+"</div>");for(let Z=0;Z<I.length;Z++){let U="#room-"+F+"-child-"+Z;console.log(U),kt(U)}}c(F,v,O)}(v==="adults"||v==="children")&&Ve(),ve()}),$(".input-counter_button.decrease").on("click",function(d){d.preventDefault();var f=$(this),v=f.attr("data-name"),b=f.siblings(".input-counter_input-group"),C=b.find(".input-counter_input"),D=b.find(".input-counter_counter"),k=Number(f.attr("data-index")),F=Number(C.val());let w=v==="adults"&&k===0?1:0;if(F>w){F===w+1&&f.prop("disabled",!0).attr("disabled","").addClass("is-disabled");var q=+F-1;if(C.val(q),D.text(q),v==="children"){let O=T(),_=O.rooms[k].children;_.pop(),O.rooms[k].children=_,q<1&&(O.rooms[k].cots=0),localStorage.setItem("enquiry",JSON.stringify(O));let I=$("#room-"+k);if(I.find(".children-ages_input-select_component").last().remove(),q<1){let B=I.find(".is-cots .input-counter_button-group");B.find(".input-counter_button.decrease").prop("disabled",!0).attr("disabled","").addClass("is-disabled"),B.find(".input-counter_input").val(0),B.find(".input-counter_counter").text(0)}}c(k,v,q)}console.log(v),(v==="adults"||v==="children")&&Ve(),ve()})}},Dn=()=>{let t=T().suppliers;if(We(t)===!1){let l=function(c){let d=T().suppliers;delete d[c],W("suppliers",d);let f=$("#"+c),v=f.parent();f.removeClass("visible").addClass("removing"),setTimeout(function(){f.remove(),xt(),v.children().length<1&&v.closest(".enquiry-form_your-picks").remove()},200)};var e=l;let a=Dt(t),s=0;for(let c in t)s+=1,$(".enquiry-form_your-picks_list").append('<div class="enquiry-form_your-picks_item" id="'+c+'"><div class="enquiry-form_your-picks_checkbox-column"><div class="checkbox_component"><label class="w-checkbox checkbox_field"><input type="checkbox" id="your-pick_'+c+'" name="your-pick_'+c+'" data-name="your-pick_'+c+'" class="w-checkbox-input enquiry-form_your-picks_checkbox"><span class="checkbox_label is-picks w-form-label" for="your-pick_'+c+'"></span></label></div></div><div class="enquiry-form_your-picks_image-column"><div class="enquiry-form_your-picks_image-wrapper"><img src="'+t[c].img+'" alt="'+t[c].name+'" class="enquiry-form_your-picks_image"></div></div><div class="enquiry-form_your-picks_text"><div class="enquiry-form_your-picks_name"><span class="enquiry-form_your-picks_place">'+t[c].name+'</span><span class="enquiry-form_your-picks_resort">, '+t[c].resort+'</span></div></div><div class="enquiry-form_your-picks_remove"><div class="enquiry-form_your-picks_remove-button" data-id="'+c+'"><div class="icon-1x1-small w-embed"><svg aria-hidden="true" fill="currentColor" role="img" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg"><title>Cross</title><path d="M18,1.81l-1.81-1.81-7.19,7.19L1.81,0,0,1.81l7.19,7.19L0,16.19l1.81,1.81,7.19-7.19,7.19,7.19,1.81-1.81-7.19-7.19L18,1.81Z"></path></svg></div></div></div></div>'),(f=>{let v=$("#your-pick_"+f);t[c].checked===!0&&(v.attr("checked","checked"),v.prop("checked",!0))})(c),s===a&&($(".enquiry-form_your-picks_item:not([id])").remove(),a===0&&$(".enquiry-form_your-picks").remove());$(".enquiry-form_your-picks_checkbox").on("change",function(){let c=$(this),d=Ue(c),f=c.closest(".enquiry-form_your-picks_item").attr("id"),v=T().suppliers;v[f].checked=!!d,W("suppliers",v),d?(c.attr("checked","checked"),c.prop("checked",!0)):(c.removeAttr("checked"),c.prop("checked",!1))}),$(".enquiry-form_your-picks_remove-button").on("click",function(c){if(c.preventDefault(),confirm("Please confirm you would like to remove this accommodation from your enquiry.")){let d=$(this).attr("data-id");l(d)}})}else $(".enquiry-form_your-picks").remove()};(function(){Qe(),Dn();let t=["airportTransfer","mountainGuiding","heliskiing","skiPasses","equipmentRental","skiSchool","whatsApp"],n=e=>{let a=$("#"+e);T()[e]===!0&&(a.attr("checked","checked"),a.prop("checked",!0),a.hasClass("fs_checkbox-4_button")&&(a.prev(".fs_checkbox-4_block").css({opacity:1}),a.siblings(".fs_checkbox-4_mask").css({"border-color":"rgb(197, 51, 95)","background-color":"rgb(197, 51, 95)"}))),a.attr("data-enquiry-id",e)};$.each(t,function(e,a){n(a)}),$("input[data-enquiry-id]").on("change",function(){let e=$(this),a=Ue(e),s=e.hasClass("fs_checkbox-4_button"),c=!e.hasClass("enquiry-form_your-picks_checkbox")?e.attr("data-enquiry-id"):suppliers[e.attr("data-enquiry-id")].checked;a?(W(c,!0),e.attr("checked","checked"),e.prop("checked",!0)):(W(c,!1),e.removeAttr("checked"),e.prop("checked",!1)),s&&(a?(e.prev(".fs_checkbox-4_block").css({opacity:1}),e.siblings(".fs_checkbox-4_mask").css({"border-color":"rgb(197, 51, 95)","background-color":"rgb(197, 51, 95)"})):(e.prev(".fs_checkbox-4_block").css({opacity:0}),e.siblings(".fs_checkbox-4_mask").css({"border-color":"rgba(0, 0, 0, 0.098)","background-color":"rgb(245, 245, 245)"})))}),$("#howHear").on("change",function(){let e=$(this);W("howHear",e.val())}),$(".enquiry-form_terms-link").eq(0).appendTo(".enquiry-form_terms-text"),setTimeout(function(){$("#enquiry-form .loading").removeClass("loading")},500)})();function wn(){$("#submit").prop("disabled",!0);let t=T();t.client.title=$("#title").val()?$("#title").val():"",t.client.forename=$("#forename").val()?$("#forename").val():"",t.client.surname=$("#surname").val()?$("#surname").val():"",t.client.email=$("#email").val()?$("#email").val():"",t.client.phone=$("#phone").val()?$("#phone").val():"",t.requirements=$("#requirements").val()?$("#requirements").val():"",localStorage.setItem("enquiry",JSON.stringify(t));let n=[];for(let a in t.suppliers)t.suppliers[a].checked===!0&&n.push(a);let e={activity:2,arrivalDate:t.arrivalDate,departureDate:t.departureDate,client:t.client,rooms:t.rooms,airportTransfer:t.airportTransfer,mountainGuiding:t.mountainGuiding,heliskiing:t.heliskiing,skiPasses:t.skiPasses,equipmentRental:t.equipmentRental,skiSchool:t.skiSchool,comments:t.requirements,howHear:t.howHear,suppliers:n};console.log("submission",e)}$.validator.addMethod("internationalPhoneNumber",function(t,n){return this.optional(n)||t.match(/^[- +()]*[0-9][- +()0-9]*$/)},"Please enter a valid phone number");$("#wf-form-Enquiry-Form").validate({rules:{title:{required:!0},forename:{required:!0,minlength:2,maxlength:255},surname:{required:!0,minlength:2,maxlength:255},email:{required:!0,email:!0,maxlength:255},phone:{required:!0,internationalPhoneNumber:!0,maxlength:20},termsAndConditions:{required:!0}},groups:{username:"title forename surname"},errorPlacement:function(t,n){n.attr("name")==="title"||n.attr("name")==="forename"||n.attr("name")==="surname"?t.insertAfter(".enquiry-form_contact_name-group"):n.attr("name")==="termsAndConditions"?t.appendTo(".enquiry-form_terms"):t.insertAfter(n)},messages:{title:{required:"Please provide your full name"},forename:{required:"Please provide your full name",minlength:"Please provide your full name {0}",maxlength:"This field is limited to 255 characters"},surname:{required:"Please provide your full name",minlength:"Please provide your full name",maxlength:"This field is limited to 255 characters"},email:{required:"Please provide your email address",email:"Your email address must be in the format name@domain.com",maxlength:"This field is limited to 255 characters"},phone:{required:"Please provide your phone number",maxlength:"This field is limited to 20 characters"},termsAndConditions:{required:"Please confirm you have read and agree to the terms and conditions"}},submitHandler:function(t){ve();let n=T().arrivalDate!==!1&&T().departureDate!==!1,e=$(".enquiry-form_input-group_wrapper.is-error").length<1,a=grecaptcha.getResponse()!=="";if(n&&e&&a)return $("#reCaptcha-error").remove(),wn(),!1;if(!n)return $('<label id="flatpickr-error" class="error">Please select dates</div>').insertAfter("#flatpickr-wrapper"),$("#flatpickr-wrapper").addClass("is-error").trigger("focus"),!1;if(!e&&$(".enquiry-form_input-group_wrapper.is-error").length>0)return $(".enquiry-form_input-group_wrapper.is-error").eq(0).closest(".enquiry-form_room").trigger("focus"),!1;if(!a)return $(".g-recaptcha").after('<label id="reCaptcha-error" class="error">Please confirm you are not a robot</label>'),!1}});(function(){let t;$(window).on("resize",function(){clearTimeout(t),t=setTimeout(function(){Cn()},200)})})();var Cn=()=>{$(window).width()>640?(ge.set("showMonths",2),$(".flatpickr-calendar").addClass("multiMonth")):(ge.set("showMonths",1),$(".flatpickr-calendar").removeClass("multiMonth"))};})();
/*! Bundled license information:

jquery-validation/dist/jquery.validate.js:
  (*!
   * jQuery Validation Plugin v1.19.5
   *
   * https://jqueryvalidation.org/
   *
   * Copyright (c) 2022 Jrn Zaefferer
   * Released under the MIT license
   *)
*/
